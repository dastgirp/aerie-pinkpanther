//                        __   ___   ___  __  _  _  __  ___ 
//                       (  ) (  ,) / __)(  )( \( )/  \(  _)
//                       /__\  )  \ \__ \ )(  )  (( () )) _)
//                      (_)(_)(_)\_)(___/(__)(_)\_)\__/(___)



//===== Arsinoé Script ============================================================================ 
//
//= Zombies quests for Arsinoé Mod
//
//===== By: =======================================================================================  
//
//= Original Version : Aerie PinkPanther
//= English Version : True Noir & Mirabell & DesertFox
//= Spanish Version : GMKira
//
//===== Current Version: ==========================================================================  
//
//= 2.3
//
//===== Additional Comments: ======================================================================  
//
//= 1.x Versions without multi-language support.
//= 2.0 release
//= 2.1 récompense#ep7zom fix issue
//= 2.2 Monster Name / Menu Symbol
//= 2.3 Revisited English version by DesertFox
//
//================================================================================================= 


//_________________________________________________________________
//___________________Les Zombies : Le Temple de Mortys ____________
//_________________________________________________________________


ars_fild22,287,249,2	script	Yummy#ep7	918,4,4,{

set @name$,"^FF00CCYummy^000000";

	if(EP7_LANGUE == 0) {callfunc "arsi_Zomb01fr";}
	if(EP7_LANGUE == 1) {callfunc "arsi_Zomb01en";}
	if(EP7_LANGUE == 2) {callfunc "arsi_Zomb01sp";}


OnTouch:
	if (EP7_ZOMBIE == 0) {showevent 1,0;} end;
}

//========================================================================

ars_fild22,35,351,5	script	Tasty#ep7	923,{

set @name$,"^66CCFFTasty^000000";

	if(EP7_LANGUE == 0) {callfunc "arsi_Zomb02fr";}
	if(EP7_LANGUE == 1) {callfunc "arsi_Zomb02en";}
	if(EP7_LANGUE == 2) {callfunc "arsi_Zomb02sp";}
}



//========================================================================

ars_fild22,105,302,0	script	Batelier#Ep74	99,{
	
set @name$,"Batelier";
if(EP7_LANGUE == 0) {set @name$,"^66CCFFBatelier^000000";}
if(EP7_LANGUE == 1) {set @name$,"^66CCFFWaterman^000000";}
if(EP7_LANGUE == 2) {set @name$,"^66CCFFBarquero^000000";}

	mes "[" + @name$ + "]"; 
	if(EP7_LANGUE == 0) {mes "Heureuse rencontre, où veux-tu te rendre ?";
	next;
	menu "•île de Mon Moulin",submenu1,"•Arsinoé - La Cité",submenu2,"•Quitter",-;}

	if(EP7_LANGUE == 1) {mes "Happy time, where do you want to go?";;
	next;
	menu "•Island My Mill",submenu1,"•Arsinoé - The City",submenu2,"•Quit",-;}

	if(EP7_LANGUE == 2) {mes "feliz tiempo, ¿a dónde quieres ir?";;
	next;
	menu "•Isla Molino",submenu1,"•Arsinoé - La Ciudad",submenu2,"•Salir",-;}

	close;
		submenu1:

		mes "[" + @name$ + "]"; 
		if(EP7_LANGUE == 0) {mes "Allons-y !";}
		if(EP7_LANGUE == 1) {mes "Let's Go !";}
		if(EP7_LANGUE == 2) {mes "¡Vamos!";}
		close2;
		warp "ars_fild22",77,342; //Vers île de Mon Moulin
		end;

		submenu2:

		mes "[" + @name$ + "]"; 
		if(EP7_LANGUE == 0) {mes "Allons-y !";}
		if(EP7_LANGUE == 1) {mes "Let's Go !";}
		if(EP7_LANGUE == 2) {mes "¡Vamos!";}
		close2;
		warp "ars_fild22",105,297; //Lac Arsinoé
		end;	

}

ars_fild22,73,346,3	duplicate(Batelier#Ep74)	Batelier#Ep75	99

//========================================================================

ars_fild22,295,246,0	script	#warpep7fild22e	45,1,1,{
	
	if (EP7_ZOMBIE <= 1)  goto sub1;
	if (EP7_ZOMBIE >= 2)  goto sub2;
	
	sub1:		
		mes "[^33CC00" + strcharinfo(0) + "^000000]"; 
		if(EP7_LANGUE == 0) {mes "Vous ne pouvez pas entrer dans le Temple de Mortys pour le moment.";}
		if(EP7_LANGUE == 1) {mes "You can't enter in the Temple of Mortys yet.";}
		if(EP7_LANGUE == 2) {mes "Usted no puede entrar en el Templo de Mortys todavía.";}
		close;
		
	sub2:
		warp "ars_in02",240,166;
		end;
}



//_________________________________________________________________
//___________________Les Zombies : Le Nettoyage ___________________
//_________________________________________________________________

ars_in02,242,180,5	script	Temple de Mortys#ep7	796,{


if(EP7_LANGUE == 0) {set @name$,"^33CC00Temple de Mortys^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Temple of Mortys^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Templo de Mortys^000000";}


	if($@ep7_zombie==0)  { 
	mes "[" + @name$ + "]";
	if(EP7_LANGUE == 0) {mes "Bien " + strcharinfo(0) + ",";
	mes "Le Temple de Mortys est ouvert pour le moment !";}

	if(EP7_LANGUE == 1) {mes "Well " + strcharinfo(0) + ",";
	mes "The Temple of Mortys is open for the moment!";}

	if(EP7_LANGUE == 2) {mes "Buenas " + strcharinfo(0) + ",";
	mes "El Templo de Mortys está abierto!";}

	close;
	end;
	}
	if($@ep7_zombie==1)  { 
	mes "[" + @name$ + "]";
	if(EP7_LANGUE == 0) {mes "Bien " + strcharinfo(0) + ",";
	mes "Une équipe est actuellement dans le Temple de Mortys !";}

	if(EP7_LANGUE == 1) {mes "Well " + strcharinfo(0) + ",";
	mes "A team is currently in the Temple of Mortys!";}

	if(EP7_LANGUE == 2) {mes "Buenas " + strcharinfo(0) + ",";
	mes "Un equipo se encuentra actualmente en el Templo de Mortys!";}
	close;
	end;
	}

OnBG:
	if($EP7_LANGUE == 0) {waitingroom "Temple de Mortys - Salle d'Attente",$EP7_ZombieJoueurs,"EP7_Zombie::OnBGJoin",1;}
	if($EP7_LANGUE == 1) {waitingroom "Temple de Mortys - Waiting Room",$EP7_ZombieJoueurs,"EP7_Zombie::OnBGJoin",1;}
	if($EP7_LANGUE == 2) {waitingroom "Templo de Mortys - Sala de espera",$EP7_ZombieJoueurs,"EP7_Zombie::OnBGJoin",1;}
	end;

OnEnterBG:

	
	enablenpc "#arsin02a";
	end;


}
//=====================================================================================

ars_in02,239,185,0	script	#arsin02a	45,1,1,{
	
	if (EP7_ZOMBIE <= 1)  goto sub1;
	if (EP7_ZOMBIE >= 2)  goto sub2;
	
	sub1:
		
		mes "[^33CC00" + strcharinfo(0) + "^000000]"; 
		if(EP7_LANGUE == 0) {mes "Vous n'avez pas le niveau de quête requis pour participer à cette instance.";}
		if(EP7_LANGUE == 1) {mes "You don't have the level of quest required to participate to this Instance.";}
		if(EP7_LANGUE == 2) {mes "Usted no tiene el nivel necesarios para participar en esta estancia.";}
		close;

	sub2:
		
		warp "ars_dun13",55,66; //instance
		end;
	
}
//=====================================================================================

-	script	EP7_Zombie	-1,{

OnInit:

	disablenpc "#arsin02a";

	donpcevent "Temple de Mortys#ep7::OnBG";

	set $@ep7_zombie, 0;

	killmonsterall "ars_dun13";
	setnpctimer 0;
	stopnpctimer;

	//variables de l'instance
	set $monster_horror,0;
	set $baric11_horror,0;
	set $baric12_horror,0;
	set $baric13_horror,0;
	set $baric21_horror,0;
	set $baric22_horror,0;
	set $baric23_horror,0;
	set $prix_horror,20; //Prix de base, de la reconstruction d'une barricade
	set $silverc_horror,0; //Nombre de Silver Coins à gagner (= nombre de monstres tués)
	set $horrortemp,0; //Temps de respawn des monstres (remis à 30 secondes au début, puis décroissant).
	set $monster_horror,0; //Nombre de monstres tués

	//enlever les walkables
	setcell "ars_dun13",93,45,22,45,cell_walkable,1; //haut
	setcell "ars_dun13",27,74,88,74,cell_walkable,1; //bas

	//les NPC
	disablenpc "Sortie#ep7zom";
	disablenpc "Manager#ep7zom";
	end;	


OnBGJoin:
	if( $@ep7_zombie == 0 )
		donpcevent "EP7_Zombie::OnReadyCheck";
	end;

OnReadyCheck:
	if( $@ep7_zombie )
		end;

	set .@ep7_zombie, getwaitingroomstate(0,"Temple de Mortys#ep7");

	
	if( .@ep7_zombie < $EP7_ZombieJoueurs )
	{
		if($ep7_LangChoice & 1) {mapannounce "ars_in02","Temple de Mortys : " + .@ep7_zombie + "/" + $EP7_ZombieJoueurs + "",1,0xFF33CC;}
		if($ep7_LangChoice & 2) {mapannounce "ars_in02","Temple of Mortys : " + .@ep7_zombie + "/" + $EP7_ZombieJoueurs + "",1,0xFF33CC;}
		if($ep7_LangChoice & 4) {mapannounce "ars_in02","Templo de Mortys : " + .@ep7_zombie + "/" + $EP7_ZombieJoueurs + "",1,0xFF33CC;}
		end;
	}

	// BG Variables
	set $@ep7_zombie, 1;
	// warp joueurs
	donpcevent "Temple de Mortys#ep7::OnEnterBG";
	if( $EP7Annonce == 0 && $ep7_LangChoice & 1) {mapannounce "ars_in02","Instance -- Le Temple de Mortys vient de débuter !",1,0xFF6600;}
	if( $EP7Annonce == 1 && $ep7_LangChoice & 1) {announce "Instance -- Le Temple de Mortys vient de débuter !",0,0xFF6600;}
	if( $EP7Annonce == 0 && $ep7_LangChoice & 2) {mapannounce "ars_in02","Instance -- Temple of Mortys has just begun!",1,0xFF6600;}
	if( $EP7Annonce == 1 && $ep7_LangChoice & 2) {announce "Instance -- Temple of Mortys has just begun!",0,0xFF6600;}
	if( $EP7Annonce == 0 && $ep7_LangChoice & 4) {mapannounce "ars_in02","Estancia - Templo de Mortys ha empezado!",1,0xFF6600;}
	if( $EP7Annonce == 1 && $ep7_LangChoice & 4) {announce "Estancia - Templo de Mortys ha empezado!",0,0xFF6600;}
	// Start Match!!
	initnpctimer;
	// npcs les fenetres
	delwaitingroom "Temple de Mortys#ep7";
	end;


//======================================================
OnTimer1000:

	donpcevent "EP7_Zombie::OnBarricadeMake";
	//barricades
	donpcevent "EP7_Zombie::OnBarricadeSpawn11";
	donpcevent "EP7_Zombie::OnBarricadeSpawn12";
	donpcevent "EP7_Zombie::OnBarricadeSpawn13";
	donpcevent "EP7_Zombie::OnBarricadeSpawn21";
	donpcevent "EP7_Zombie::OnBarricadeSpawn22";
	donpcevent "EP7_Zombie::OnBarricadeSpawn23";
	//NPC
	enablenpc "Sortie#ep7zom";
	enablenpc "Barricades Manager#ep7zom";
	//Temps de Base
	set $time_horror,30000;
	end;

OnTimer10000:

	donpcevent "EP7_Zombie::OnMobSpawn";
	donpcevent "EP7_Zombie::OnPointCheck";
	enablenpc "Manager#ep7zom";
	end;

OnTimer20000:

	disablenpc "#arsin02a";
	end;

//======================================================

OnBarricadeMake:

	setcell "ars_dun13",93,45,22,45,cell_walkable,0; //haut
	setcell "ars_dun13",27,74,88,74,cell_walkable,0; //bas
	//barricades nonmouvables
	end;

//======================================================

OnMobSpawn:

	if( $@ep7_zombie == 0 ) { end;}
	if( $time_horror > 60000 ) goto roundend;
	if( $time_horror > 20000 ) goto round1;
	if( $time_horror > 15000 ) goto round2;
	if( $time_horror > 8000 ) goto round3;
	if( $time_horror > 4000 ) goto round4;

		roundend:
		
			end;

	round1:

			switch( rand(3) ) {

		case 0:
		case 1:
			areamonster "ars_dun13",88,34,26,43,"Zombie",1015,15,"EP7_Zombie::OnMyMobDead"; //bas
			sleep2 $time_horror;
			set $time_horror,$time_horror-1000;
			donpcevent "EP7_Zombie::OnBarricadeCheck";
			donpcevent "EP7_Zombie::OnMobSpawn";
			end;

		case 2:
		case 3:

			areamonster "ars_dun13",27,83,88,76,"Zombie",1015,15,"EP7_Zombie::OnMyMobDead"; //haut
			sleep2 $time_horror;
			set $time_horror,$time_horror-1000;
			donpcevent "EP7_Zombie::OnBarricadeCheck";
			donpcevent "EP7_Zombie::OnMobSpawn";
			}
			end;

	round2:
			switch( rand(3) ) {
			
		case 0:
		case 1:

			areamonster "ars_dun13",88,34,26,43,"Ghoul",1036,20,"EP7_Zombie::OnMyMobDead"; //bas
			sleep2 $time_horror;
			set $time_horror,$time_horror-500;
			donpcevent "EP7_Zombie::OnBarricadeCheck";
			donpcevent "EP7_Zombie::OnMobSpawn";
			end;

		case 2:
		case 3:
			areamonster "ars_dun13",27,83,88,76,"Ghoul",1036,20,"EP7_Zombie::OnMyMobDead"; //haut
			sleep2 $time_horror;
			set $time_horror,$time_horror-500;
			donpcevent "EP7_Zombie::OnBarricadeCheck";
			donpcevent "EP7_Zombie::OnMobSpawn";
			}
			end;

	round3:
		
			switch( rand(3) ) {
			
		case 0:
		case 1:

			areamonster "ars_dun13",88,34,26,43,"Ragged Zombie",1864,10,"EP7_Zombie::OnMyMobDead"; //bas
			areamonster "ars_dun13",88,34,26,43,"Zombie",1015,10,"EP7_Zombie::OnMyMobDead"; //bas
			sleep2 $time_horror;
			set $time_horror,$time_horror-100;
			donpcevent "EP7_Zombie::OnBarricadeCheck";
			donpcevent "EP7_Zombie::OnMobSpawn";
			end;

		case 2:
		case 3:

			areamonster "ars_dun13",27,83,88,76,"Ragged Zombie",1865,10,"EP7_Zombie::OnMyMobDead"; //haut
			areamonster "ars_dun13",88,34,26,43,"Zombie",1015,10,"EP7_Zombie::OnMyMobDead"; //bas
			sleep2 $time_horror;
			set $time_horror,$time_horror-100;
			donpcevent "EP7_Zombie::OnBarricadeCheck";
			donpcevent "EP7_Zombie::OnMobSpawn";
			}
			end;

	round4:
		
			switch( rand(3) ) {
			
		case 0:
		case 1:
			areamonster "ars_dun13",88,34,26,43,"Zombie Slaughter",1864,10,"EP7_Zombie::OnMyMobDead"; //bas
			areamonster "ars_dun13",88,34,26,43,"Zombie",1015,10,"EP7_Zombie::OnMyMobDead"; //bas
			sleep2 $time_horror;
			donpcevent "EP7_Zombie::OnBarricadeCheck";
			donpcevent "EP7_Zombie::OnMobSpawn";
			end;

		case 2:
		case 3:
			areamonster "ars_dun13",27,83,88,76,"Zombie Slaughter",1865,10,"EP7_Zombie::OnMyMobDead"; //haut
			areamonster "ars_dun13",88,34,26,43,"Zombie",1015,10,"EP7_Zombie::OnMyMobDead"; //bas
			sleep2 $time_horror;
			donpcevent "EP7_Zombie::OnBarricadeCheck";
			donpcevent "EP7_Zombie::OnMobSpawn";
			}
			end;

//======================================================

OnBarricadeCheck:



switch( rand(25) ) {

	case 0:
	case 1:
		
		donpcevent "EP7_Zombie::OnBarricadeDown11";
		donpcevent "EP7_Zombie::OnBarricadekill11";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 1-1 est détruite",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The 1-1 Barricade is destroyed",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 1-1 se destruye",bc_map;}
		set $baric11_horror,1;
		end;
	case 2:

		donpcevent "EP7_Zombie::OnBarricadeDown12";
		donpcevent "EP7_Zombie::OnBarricadekill12";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 1-2 est détruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The 1-2 Barricade is destroyed",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 1-2 se destruye",bc_map;}
		set $baric12_horror,1; 
		end;
	case 3:

		donpcevent "EP7_Zombie::OnBarricadeDown13";
		donpcevent "EP7_Zombie::OnBarricadekill13";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 1-3 est détruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The 1-3 Barricade is destroyed",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 1-3 se destruye",bc_map;}
		set $baric13_horror,1; 
		end;
	case 4:
		donpcevent "EP7_Zombie::OnBarricadeDown21";
		donpcevent "EP7_Zombie::OnBarricadekill21";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 2-1 est détruite",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The 2-1 Barricade is destroyed",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 2-1 se destruye",bc_map;}
		set $baric21_horror,1;
		end;

	case 5:

		donpcevent "EP7_Zombie::OnBarricadeDown22";
		donpcevent "EP7_Zombie::OnBarricadekill22";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 2-2 est détruite",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The 2-2 Barricade is destroyed",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 2-2 se destruye",bc_map;}
		set $baric22_horror,1;
		end;

	case 6:
		donpcevent "EP7_Zombie::OnBarricadeDown23";
		donpcevent "EP7_Zombie::OnBarricadekill23";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 2-3 est détruite",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The 2-3 Barricade is destroyed",bc_map; }
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 2-3 se destruye",bc_map;}
		set $baric23_horror,1;
		end;

	end;}
	end;



			
//======================================================

OnBarricadeSpawn11:
	
	//bas1
	monster "ars_dun13",88,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",87,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",86,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",85,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",84,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",83,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",82,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",80,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",79,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",78,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",77,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",76,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",75,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",74,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",66,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",66,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",67,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",68,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",69,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",70,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",71,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	monster "ars_dun13",72,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead11";
	end;

//============================

OnBarricadekill11:
	
	killmonster "ars_dun13", "EP7_Zombie::OnMyMobDead11";
	end;

//============================

OnBarricadeSpawn12:

	//bas2
	monster "ars_dun13",64,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",63,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",62,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",61,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",60,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",59,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",59,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",58,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",56,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",55,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",54,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",53,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",52,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",51,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",50,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",48,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",47,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",46,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",45,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",44,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",43,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	monster "ars_dun13",42,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead12";
	end;

//============================

OnBarricadekill12:
	
	killmonster "ars_dun13", "EP7_Zombie::OnMyMobDead12";
	end;

//============================

OnBarricadeSpawn13:

	//bas3
	monster "ars_dun13",40,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead13";	
	monster "ars_dun13",39,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead13";	
	monster "ars_dun13",38,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead13";
	monster "ars_dun13",37,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead13";
	monster "ars_dun13",36,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead13";
	monster "ars_dun13",35,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead13";
	monster "ars_dun13",34,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead13";
	monster "ars_dun13",32,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead13";
	monster "ars_dun13",31,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead13";
	monster "ars_dun13",30,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead13";
	monster "ars_dun13",29,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead13";
	monster "ars_dun13",28,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead13";
	monster "ars_dun13",27,73,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead13";
	end;

//============================

OnBarricadekill13:
	
	killmonster "ars_dun13", "EP7_Zombie::OnMyMobDead13";
	end;

//============================

OnBarricadeSpawn21:
	
	//haut1
	monster "ars_dun13",88,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",88,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",87,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",86,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",85,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",84,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",83,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",82,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",81,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",80,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",79,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",78,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",77,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",76,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",75,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",74,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",66,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",66,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",67,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",68,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",69,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",70,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",71,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	monster "ars_dun13",72,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead21";
	end;

//============================

OnBarricadekill21:
	
	killmonster "ars_dun13", "EP7_Zombie::OnMyMobDead21";
	end;

//============================

OnBarricadeSpawn22:
	
	//haut2
	monster "ars_dun13",64,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",63,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",62,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",61,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",60,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",59,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",59,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",58,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",57,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",56,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",55,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",54,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",53,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",52,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",51,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",50,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",49,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",48,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",47,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",46,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",45,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",44,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",43,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	monster "ars_dun13",42,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead22";
	end;

//============================

OnBarricadekill22:
	
	killmonster "ars_dun13", "EP7_Zombie::OnMyMobDead22";
	end;

//============================

OnBarricadeSpawn23:

	//haut3
	monster "ars_dun13",40,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead23";	
	monster "ars_dun13",39,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead23";		
	monster "ars_dun13",38,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead23";	
	monster "ars_dun13",37,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead23";	
	monster "ars_dun13",36,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead23";	
	monster "ars_dun13",35,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead23";	
	monster "ars_dun13",34,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead23";	
	monster "ars_dun13",33,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead23";	
	monster "ars_dun13",32,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead23";	
	monster "ars_dun13",31,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead23";	
	monster "ars_dun13",30,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead23";	
	monster "ars_dun13",29,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead23";	
	monster "ars_dun13",28,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead23";	
	monster "ars_dun13",27,44,"Barricade",1905,1,"EP7_Zombie::OnMyMobDead23";	
	end;

//============================

OnBarricadekill23:
	
	killmonster "ars_dun13", "EP7_Zombie::OnMyMobDead23";
	end;


//======================================================

OnBarricadeDown11:

	setcell "ars_dun13",88,74,66,74,cell_walkable,1; //bas 1
	end;

OnBarricadeDown12:

	setcell "ars_dun13",42,74,64,74,cell_walkable,1; //bas 2
	end;

OnBarricadeDown13:

	setcell "ars_dun13",40,74,27,74,cell_walkable,1; //bas 3
	end;

OnBarricadeDown21:
	
	setcell "ars_dun13",66,45,88,45,cell_walkable,1; //haut 1
	end;

OnBarricadeDown22:

	setcell "ars_dun13",42,45,64,45,cell_walkable,1; //haut 2
	end;

OnBarricadeDown23:

	setcell "ars_dun13",40,45,27,45,cell_walkable,1; //haut 3
	end;
//===============================================================
OnBarricadeOn11:

	setcell "ars_dun13",88,74,66,74,cell_walkable,0; //bas 1
	end;

OnBarricadeOn12:

	setcell "ars_dun13",42,74,64,74,cell_walkable,0; //bas 2
	end;

OnBarricadeOn13:

	setcell "ars_dun13",40,74,27,74,cell_walkable,0; //bas 3
	end;

OnBarricadeOn21:
	
	setcell "ars_dun13",66,45,88,45,cell_walkable,0; //haut 1
	end;

OnBarricadeOn22:

	setcell "ars_dun13",42,45,64,45,cell_walkable,0; //haut 2
	end;

OnBarricadeOn23:

	setcell "ars_dun13",40,45,27,45,cell_walkable,0; //haut 3
	end;

//======================================================

OnMyMobDead:

	set $monster_horror, $monster_horror+1; //Points Total
	set $silverc_horror, $silverc_horror+1; //Points Récompense
	end;

//======================================================

OnPointCheck:

		if (getmapusers("ars_dun13.gat") == 0)
		{
		donpcevent "EP7_Zombie::OnInit";
		killmonsterall "ars_dun13";
		end;
		}

	else{

		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","Vous avez [" + $silverc_horror + "] points !",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","You got [" + $silverc_horror + "] points !",bc_map; } 
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","Tienes [" + $silverc_horror + "] puntos!",bc_map; }
		sleep2 60000;
		donpcevent "EP7_Zombie::OnPointCheck";
		end;
	}


}

//======================================================

ars_dun13,77,66,4	script	Sortie#ep7zom	109,{

if(EP7_LANGUE == 0) {set @name$,"^33CC00Sortie^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Exit^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Salida^000000";}


	if(EP7_LANGUE == 0) {callfunc "arsi_Zomb03fr";}
	if(EP7_LANGUE == 1) {callfunc "arsi_Zomb03en";}
	if(EP7_LANGUE == 2) {callfunc "arsi_Zomb03sp";}
}



//======================================================

ars_dun13,45,65,4	script	Manager#ep7zom	109,{

set @name$,"^66CCFFManager^000000";

	if(EP7_LANGUE == 0) {callfunc "arsi_Zomb04fr";}
	if(EP7_LANGUE == 1) {callfunc "arsi_Zomb04en";}
	if(EP7_LANGUE == 2) {callfunc "arsi_Zomb04sp";}
}





//_________________________________________________________________
//___________________La Demeure de Chibi Youma ____________________
//_________________________________________________________________

ars_fild22,239,129,5	script	Chibi Youma#ep71	56,{

set @name$,"^66CCFFChibi Youma^000000";

	if(EP7_LANGUE == 0) {callfunc "arsi_Zomb05fr";}
	if(EP7_LANGUE == 1) {callfunc "arsi_Zomb05en";}
	if(EP7_LANGUE == 2) {callfunc "arsi_Zomb05sp";}
}



//=======================================================

ars_fild22,243,136,0	script	#warpep7fild22f	45,1,1,{
	
	if (EP7_ZOMBIE <= 3)  goto sub1;
	if (EP7_ZOMBIE >= 4)  goto sub2;
	
	sub1:		
		mes "[^33CC00" + strcharinfo(0) + "^000000]"; 
		if(EP7_LANGUE == 0) {mes "Vous ne pouvez pas entrer dans la Demeure de Chibi Youma pour le moment.";}
		if(EP7_LANGUE == 1) {mes "You can't enter the House of Chibi Youma yet.";}
		if(EP7_LANGUE == 2) {mes "Usted no puede entrar en la Casa de Chibi Youma todavía.";}
		close;
		
	sub2:
		warp "ars_dun14",80,13;
		end;
}
//=======================================================

ars_dun14,75,21,5	script	Chibi Youma#ep7	56,{


set @name$,"^66CCFFChibi Youma^000000";

	if($@ZombieMoD==0)  { 
	mes "[" + @name$ + "]";
	if(EP7_LANGUE == 0) {mes "Bien " + strcharinfo(0) + ",";
	mes "La Demeure de Chibi Youma est ouverte pour le moment !";}

	if(EP7_LANGUE == 1) {mes "Bien " + strcharinfo(0) + ",";
	mes "House of Chibi Youma opened yet!";}

	if(EP7_LANGUE == 2) {mes "Bien " + strcharinfo(0) + ",";
	mes "!La casa de Chibi Youma esta abierta¡";}
	close;
	end;
	}

	if($@ZombieMoD==1)  { 
	mes "[" + @name$ + "]";
	if(EP7_LANGUE == 0) {mes "Bien " + strcharinfo(0) + ",";
	mes "Une équipe est actuellement dans La Demeure de Chibi Youma !";}

	if(EP7_LANGUE == 1) {mes "Bien " + strcharinfo(0) + ",";
	mes "A team is currently in the House of Chibi Youma!";}

	if(EP7_LANGUE == 2) {mes "Bien " + strcharinfo(0) + ",";
	mes "Un equipo se encuentra actualmente en la casa de Chibi Youma!";}
	next;
	close;
	end;
	}

OnBG:
	if($EP7_LANGUE == 0) {waitingroom "Instance - Chibi Youma",$EP7_ZombieJoueurs,"Zombie_survival::OnInstJoin",1;}
	if($EP7_LANGUE == 1) {waitingroom "Instance - Chibi Youma",$EP7_ZombieJoueurs,"Zombie_survival::OnInstJoin",1;}
	if($EP7_LANGUE == 2) {waitingroom "Estancia - Chibi Youma",$EP7_ZombieJoueurs,"Zombie_survival::OnInstJoin",1;}
	end;


}
//======================================================

ars_dun14,80,24,0	script	#arsdun14a	45,1,1,{
	
	if (EP7_ZOMBIE <= 3)  goto sub1;
	if (EP7_ZOMBIE >= 4)  goto sub2;
	
	sub1:
		
		mes "[^33CC00" + strcharinfo(0) + "^000000]"; 
		if(EP7_LANGUE == 0) {mes "Vous n'avez pas le niveau de quête requis pour participer à cette instance.";}
		if(EP7_LANGUE == 1) {mes "You don't have the level of quest required to participate in this Instance.";}
		if(EP7_LANGUE == 2) {mes "Usted no tiene el nivel obligados a participar en esta instancia.";}
		close;

	sub2:
		
		warp "ars_dun14",80,29; //instance
		end;
	
}



//======================================================

-	script	Zombie_survival	-1,{

OnInit:
	//relancer inscription
	donpcevent "Chibi Youma#ep7::OnBG";
	//variables
	set $@ZombieMoD,0; //réinscription
	set $zombieon,0; //activer l'event

	set $zombiemod_time,0;//temps du round 
	set $zombiespawn,30000; //Générer les spawns mobs
	set $zombiemod_record,0; // [Voir Warp Sortie Joueur]
	set $zombiemod_spawnoff,0; //fin repop mobs
	//Variables Quêtes
	set $cleprise,0; // lvl 1 clé
	set $Inter_zombie,0; //lvl 1 interrupteur
	set $statue_zombie,0; //lvl 2 statue
	//variables livres
	set $livre_zombie,0; //GLOBAL
	set $livre1_zombie,0;
	set $livre2_zombie,0;
	set $livre3_zombie,0;
	set $livre4_zombie,0;
	set $livre5_zombie,0;
	//Nettoyer les salles
	killmonsterall "ars_dun14";
	killmonsterall "ars_dun15";
	//NPCs
	disablenpc "#arsdun14a";
	disablenpc "Action : Clé#1";
	disablenpc "Action : Clé#2";
	disablenpc "Action : Clé#3";
	disablenpc "Action : Clé#4";
	disablenpc "Interrupteur#zom1";
	disablenpc "Interrupteur#zom2";
	disablenpc "Interrupteur#zom3";
	disablenpc "Interrupteur#zom4";
	disablenpc "ZombiemodEv1";
	disablenpc "ZombiemodEv2";
	disablenpc "ZombiemodEv3";
	disablenpc "Livre#zom1";
	disablenpc "Livre#zom2";
	disablenpc "Livre#zom3";
	disablenpc "Livre#zom4";
	disablenpc "Livre#zom5";
	disablenpc "#zomwsortie"; //Sortie Finale
	//walkable
	setcell "ars_dun14",83,27,75,25,cell_walkable,0;
	end;


OnInstJoin:
	if( $@ZombieMoD == 0 ) //joueurs pour lancer
		donpcevent "Zombie_survival::OnReadyCheck";
	end;

OnReadyCheck:
	if( $@ZombieMoD )
		end;

	set .@zombtemp, getwaitingroomstate(0,"Chibi Youma#ep7");

	
	if( .@zombtemp < $EP7_ZombieJoueurs )
	{
		if($ep7_LangChoice & 1) {mapannounce "ars_dun14","Demeure de Chibi Youma : " + $EP7_ZombieJoueurs + "/10",1,0xFF33CC;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun14","The House of Chibi Youma : " + .@zombtemp + "/10",1,0xFF33CC;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun14","La Casa de Chibi Youma: " + .@zombtemp + "/10",1,0xFF33CC;}
		end;
	}

	// BG Variables
	set $@ZombieMoD, 1;
	set $zombieon,1; //variable Event globale
	// warp joueurs
	if( $EP7Annonce == 0 && $ep7_LangChoice & 1) {mapannounce "ars_dun14","Instance -- La Demeure de Chibi Youma vient de débuter !",1,0xFF6600;}
	if( $EP7Annonce == 1 && $ep7_LangChoice & 1) {announce "Instance -- La Demeure de Chibi Youma vient de débuter !",0,0xFF6600;}
	if( $EP7Annonce == 0 && $ep7_LangChoice & 2) {mapannounce "ars_dun14","The House of Chibi Youma just begun!",1,0xFF6600;}
	if( $EP7Annonce == 1 && $ep7_LangChoice & 2) {announce "The House of Chibi Youma just begun!",0,0xFF6600;}
	if( $EP7Annonce == 0 && $ep7_LangChoice & 4) {mapannounce "ars_dun14","La Casa de Chibi Youma ha empezado!",1,0xFF6600;}
	if( $EP7Annonce == 1 && $ep7_LangChoice & 4) {announce "La Casa de Chibi Youma ha empezado!",0,0xFF6600;}
	enablenpc "#arsdun14a";
	// Start Match!!
	initnpctimer;
	// npcs les fenetres
	delwaitingroom "Chibi Youma#ep7";
	end;


OnTimer30000:

	//walkableoff
	setcell "ars_dun14",83,27,75,25,cell_walkable,1;
	if($ep7_LangChoice & 1) {mapannounce "ars_dun14","Demeure de Chibi Youma : C'est parti ! Vous devez remplir les objectifs pour gagner la partie.",bc_map;} 
	if($ep7_LangChoice & 2) {mapannounce "ars_dun14","Chibi Youma : Here we go! You must complete objectives to win the game.",bc_map; }
	if($ep7_LangChoice & 4) {mapannounce "ars_dun14","Chibi Youma: ¡Aquí vamos! Usted debe completar los objetivos para ganar el juego.",bc_map;}
	disablenpc "#arsdun14a"; //fin des inscriptions
	end;

OnTimer35000:

	donpcevent "Zombie_survival::OnQuestone";
	end;

//===========================================
//     Section Quêtes
//===========================================

OnQuestone:

	if($ep7_LangChoice & 1) {mapannounce "ars_dun14","Demeure de Chibi Youma : [1 Objectif] Vous devez trouver la Clé.",bc_map;} 
	if($ep7_LangChoice & 2) {mapannounce "ars_dun14","Chibi Youma : [1 Objectif] You must find the key.",bc_map;}
	if($ep7_LangChoice & 4) {mapannounce "ars_dun14","Chibi Youma: [1 Objetivo] Usted debe encontrar la llave.",bc_map; }
	set $@clezombie,rand(4);

			if ($@clezombie == 0) goto cle1;
			if ($@clezombie == 1) goto cle2;
			if ($@clezombie == 2) goto cle3;
			if ($@clezombie == 3) goto cle4;

	cle1: 	
		enablenpc "Action : Clé#1";
		end;
	cle2: 
		enablenpc "Action : Clé#2";
		end;
	cle3: 
		enablenpc "Action : Clé#3";
		end;
	cle4: 
		enablenpc "Action : Clé#4";
		end;
	

OnQuestTwo:

	disablenpc "Action : Clé#1";
	disablenpc "Action : Clé#2";
	disablenpc "Action : Clé#3";
	disablenpc "Action : Clé#4";
	sleep2 5000;
	if($ep7_LangChoice & 1) {mapannounce "ars_dun14","Demeure de Chibi Youma : [2 Objectif] Trouvez le bon interrupteur.",bc_map;} 
	if($ep7_LangChoice & 2) {mapannounce "ars_dun14","Chibi Youma : [2 Objectif] Find the right switch.",bc_map; }
	if($ep7_LangChoice & 4) {mapannounce "ars_dun14","Chibi Youma: [2 Objetivo] Encuentre el interruptor bueno.",bc_map; }
	enablenpc "Interrupteur#zom1";
	enablenpc "Interrupteur#zom2";
	enablenpc "Interrupteur#zom3";
	enablenpc "Interrupteur#zom4";
	set $interzombie,rand(3);

			if ($interzombie == 0) goto inter1;
			if ($interzombie == 1) goto inter2;
			if ($interzombie == 2) goto inter3;
			if ($interzombie == 3) goto inter4;

	inter1: set $Inter_zombie,1;end;
	inter2: set $Inter_zombie,2;end;
	inter3: set $Inter_zombie,3;end;
	inter4: set $Inter_zombie,4;end;

OnQuestThree:

	disablenpc "Interrupteur#zom1";
	disablenpc "Interrupteur#zom2";
	disablenpc "Interrupteur#zom3";
	disablenpc "Interrupteur#zom4";
	sleep2 5000;
	if($ep7_LangChoice & 1) {mapannounce "ars_dun14","Demeure de Chibi Youma : [3 Objectif] Accèder au Sous-sol et Détruire la Statue du Démiurge.",bc_map;} 
	if($ep7_LangChoice & 1) {mapannounce "ars_dun15","Demeure de Chibi Youma : [3 Objectif] Accèder au Sous-sol et Détruire la Statue du Démiurge.",bc_map;} 	
	if($ep7_LangChoice & 2) {mapannounce "ars_dun14","Chibi Youma : [3 Objectif] Go to the basement and destroy the statue of the Demiurge.",bc_map;}
	if($ep7_LangChoice & 2) {mapannounce "ars_dun15","Chibi Youma : [3 Objectif] Go to the basement and destroy the statue of the Demiurge.",bc_map;} 
	if($ep7_LangChoice & 4) {mapannounce "ars_dun14","Chibi Youma : [3 Objetivo] Ir al sótano y destruir la estatua del Creador.",bc_map;}
	if($ep7_LangChoice & 4) {mapannounce "ars_dun15","Chibi Youma : [3 Objetivo] Ir al sótano y destruir la estatua del Creador.",bc_map;}
	set $zombieround,1;
	enablenpc "ZombiemodEv1"; //les warps
	enablenpc "ZombiemodEv2"; //les warps
	enablenpc "Statue Demiurge#zo";
	end;
	
OnQuestFour:

	enablenpc "ZombiemodEv3";
	sleep2 5000;
	if($ep7_LangChoice & 1) {mapannounce "ars_dun14","Demeure de Chibi Youma : [4 Objectif] Vous devez collecter 5 Livres et sortir au plus vite d'ici !",bc_map;} 
	if($ep7_LangChoice & 1) {mapannounce "ars_dun15","Demeure de Chibi Youma : [4 Objectif] Vous devez collecter 5 Livres et sortir au plus vite d'ici !",bc_map;} 
	if($ep7_LangChoice & 2) {mapannounce "ars_dun14","Chibi Youma : [4 Objectif] You must collect 5 books and get out as quickly!",bc_map;} 
	if($ep7_LangChoice & 2) {mapannounce "ars_dun15","Chibi Youma : [4 Objectif] You must collect 5 books and get out as quickly!",bc_map;} 
	if($ep7_LangChoice & 4) {mapannounce "ars_dun14","Chibi Youma : [4 Objetivo] Usted debe recolectar 5 libros y salir rápido!",bc_map;}
	if($ep7_LangChoice & 4) {mapannounce "ars_dun15","Chibi Youma : [4 Objetivo] Usted debe recolectar 5 libros y salir rápido!",bc_map;}

	enablenpc "Livre#zom1";
	enablenpc "Livre#zom2";
	enablenpc "Livre#zom3";
	enablenpc "Livre#zom4";
	enablenpc "Livre#zom5";
	sleep2 5000;
	if($ep7_LangChoice & 1) {mapannounce "ars_dun14","Demeure de Chibi Youma : [4 Objectif] Attention les Zombies arrivent de plus en plus vite !",bc_map;} 
	if($ep7_LangChoice & 1) {mapannounce "ars_dun15","Demeure de Chibi Youma : [4 Objectif] Attention les Zombies arrivent de plus en plus vite !",bc_map;}
	if($ep7_LangChoice & 2) {mapannounce "ars_dun14","Chibi Youma : [4 Objectif] Becareful Zombies coming faster !",bc_map;}
	if($ep7_LangChoice & 2) {mapannounce "ars_dun15","Chibi Youma : [4 Objectif] Becareful Zombies coming faster !",bc_map;}	
	if($ep7_LangChoice & 4) {mapannounce "ars_dun14","Chibi Youma : [4 Objetivo] ¡Cuidado! Zombies viene más y más rápido!",bc_map; }
	if($ep7_LangChoice & 4) {mapannounce "ars_dun15","Chibi Youma : [4 Objetivo] ¡Cuidado! Zombies viene más y más rápido!",bc_map; }

	donpcevent "Zombie_survival::OnZombieSpawn";
	set $zombiemod_spawnoff,1;
	end;

OnQuestFive:

	if($livre_zombie < 5)goto menu1;
	if($livre_zombie == 5)goto menu2;

		menu1:		
			end;

		menu2:

			sleep2 5000;
			if($ep7_LangChoice & 1) {mapannounce "ars_dun14","Demeure de Chibi Youma : [5 Objectif] Vous avez tous les livres ! Trouvez la sortie au plus vite !",bc_map;} 
			if($ep7_LangChoice & 1) {mapannounce "ars_dun15","Demeure de Chibi Youma : [5 Objectif] Vous avez tous les livres ! Trouvez la sortie au plus vite !",bc_map; }
			if($ep7_LangChoice & 2) {mapannounce "ars_dun14","Chibi Youma : [5 Objectif] You have all the books! Find out as quickly as possible!",bc_map;} 
			if($ep7_LangChoice & 2) {mapannounce "ars_dun15","Chibi Youma : [5 Objectif] You have all the books! Find out as quickly as possible!",bc_map;}			
			if($ep7_LangChoice & 4) {mapannounce "ars_dun14","Chibi Youma : [5 Objetivo] Usted tiene todos los libros! Encuentralos más rápidamente posible!",bc_map; }
			if($ep7_LangChoice & 4) {mapannounce "ars_dun15","Chibi Youma : [5 Objetivo] Usted tiene todos los libros! Encuentralos más rápidamente posible!",bc_map; }
			enablenpc "#zomwsortie";
			donpcevent "Zombie_survival::OnTimeCheck";
			donpcevent "Zombie_survival::OnFinPlayer";
			end;
//===========================================
//     Section Zombie Spawn
//===========================================

OnZombieSpawn:

	if($zombiemod_spawnoff == 0)goto endzom1;
	if($zombiemod_spawnoff == 1)goto endzom2;

	endzom1:
		areamonster "Inst_zom02",0,400,400,0,"Zombie Slaughter",1864,15,"Zombie_survival::OnMyMobDead"; //toute la zone
		sleep2 $zombiespawn;
		set $zombiespawn,$zombiespawn-500;
		donpcevent "Zombie_survival::OnZombieSpawn";
		end;

	endzom2:

		end;
	
//===========================================
//     Section Fin (Temps)
//===========================================

OnTimeCheck:

	set $zombiemod_time, getnpctimer(0,"Zombie_survival")-1000; //récupérer le temps effectif -130000 [Début après inscriptions]	
	
	if ($zombiemod_time > $zombiemod_record)  goto checktime1; //record non battu
	if ($zombiemod_time < $zombiemod_record)  goto checktime2; //record battu
	if ($zombiemod_time == $zombiemod_record)  goto checktime1;

		checktime1:
			
			end;

		checktime2:
			
			set $zombiemod_record,$zombiemod_time;
			end;
				

OnFinPlayer:
		
	sleep2 5000;
	if($ep7_LangChoice & 1) {mapannounce "ars_dun14","Demeure de Chibi Youma : Vous avez 60 Secondes pour sortir en vie ou il sera trop tard !",bc_map;} 
	if($ep7_LangChoice & 1) {mapannounce "ars_dun15","Demeure de Chibi Youma : Vous avez 60 Secondes pour sortir en vie ou il sera trop tard !",bc_map;} 
	if($ep7_LangChoice & 2) {mapannounce "ars_dun14","Chibi Youma : You have 60 seconds to get out alive or it will be too late !",bc_map;} 
	if($ep7_LangChoice & 2) {mapannounce "ars_dun15","Chibi Youma : You have 60 seconds to get out alive or it will be too late !",bc_map;} 
	if($ep7_LangChoice & 4) {mapannounce "ars_dun14","Chibi Youma: Usted tiene 60 segundos para salir con vida, o será demasiado tarde!",bc_map; }
	if($ep7_LangChoice & 4) {mapannounce "ars_dun15","Chibi Youma: Usted tiene 60 segundos para salir con vida, o será demasiado tarde!",bc_map; }

	sleep2 60000;
	set $zombiemod_spawnoff,1; //fin repop mobs
	mapannounce "ars_dun15","Demeure de Chibi Youma : Trop tard !",bc_map; 
	sleep2 3000;
	areawarp "ars_dun14",0,400,400,0,"ars_fild22",239,136;
	areawarp "ars_dun15",0,400,400,0,"ars_fild22",239,136;
	disablenpc "#zomwsortie";
	donpcevent "Zombie_survival::OnInit";
	end;

OnMyMobDead: end;
}

//===========================================
//     Sortie NPC
//===========================================

ars_dun15,14,92,4	script	#zomwsortie	45,2,2,{

if(EP7_LANGUE == 0) {set @name$,"^33CC00Sortie^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Exit^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Salida^000000";}

	if (EP7_ZOMBIE <= 4)  goto sub1;
	if (EP7_ZOMBIE == 5)  goto sub2;
	if (EP7_ZOMBIE >= 6)  goto sub3;
	
	sub1:
		
		mes "[" + strcharinfo(0) + "]"; 
		if(EP7_LANGUE == 0) {mes "Vous n'avez pas le niveau de quête requis pour participer à cette instance.";}
		if(EP7_LANGUE == 1) {mes "You don't have the level of quest required to participate at this Instance.";}
		if(EP7_LANGUE == 2) {mes "Usted no tiene el nivel obligado a participar en esta estancia.";}
		close2;
		warp "ars_fild22",239,136; //retour début
		end;

	sub2:

		if(EP7_LANGUE == 0) {dispbottom "Vous venez de récupérer les livres de sorts de Chibi Youma.";}
		if(EP7_LANGUE == 1) {dispbottom "You just get the Chibi Youma's book of spells.";}
		if(EP7_LANGUE == 2) {dispbottom "Usted acaba de obtener el libro Youma Chibi de hechizos.";}
		getitem $ep7recompense[28],$ep7recompensenb[28];
		//âme
		set EP7_ZOMBIE,6;	
		completequest 70314;
		warp "ars_fild22",239,136; //instance sortie
		end;

	sub3:
		
		if(EP7_LANGUE == 0) {dispbottom "Vous avez déjà eu votre récompense, mais vous obtenez des plats cuisinés.";}
		if(EP7_LANGUE == 1) {dispbottom "You already had your reward, but you get food.";}
		if(EP7_LANGUE == 2) {dispbottom "Usted ya tuvo su recompensa, puede conseguir el alimento";}
		getitem $ep7foodid[4],$ep7foodnb[2];
		getitem $ep7foodid[5],$ep7foodnb[2];
		getitem $ep7foodid[6],$ep7foodnb[2];
		warp "ars_fild22",239,136; //instance sortie
		end;
	

}

//===========================================
//     Section Quêtes NPCs
//===========================================
//  Part2 : Livres


ars_dun15,13,219,4	script	Livre#zom1	111,{

if(EP7_LANGUE == 0) {set @name$,"^33CC00Livre^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Book^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Libro^000000";}
	
	if($livre1_zombie == 0)goto menu1;
	if($livre1_zombie == 1)goto menu2;

	menu1:
		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Vous venez de trouver un livre.";}
		if(EP7_LANGUE == 1) {mes "You just find a book.";}
		if(EP7_LANGUE == 2) {mes "Usted acaba de encontrar un libro.";}
		set $livre_zombie,$livre_zombie+1;
		set $livre1_zombie,1;
		close2;
		if($ep7_LangChoice & 1) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  vient de trouver un livre : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 1) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  vient de trouver un livre : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  found a book : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  found a book : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 4) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  encontrar un libro: Total [" + $livre_zombie + "/5].",bc_map; }
		if($ep7_LangChoice & 4) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  encontrar un libro: Total [" + $livre_zombie + "/5].",bc_map; }
		donpcevent "Zombie_survival::OnQuestFive";
		disablenpc "Livre#zom1";
		end;


	menu2:
		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Ce livre a déjà été pris";
		mes "Vous devez sortir au plus vite !";}
		if(EP7_LANGUE == 1) {mes "This book has already been taken";
		mes "You must get out as fast!";}
		if(EP7_LANGUE == 2) {mes "Este libro ya ha sido tomado";
		mes "Usted debe salir rápido!";}
		close;
		

}
//===========================================


ars_dun15,98,285,4	script	Livre#zom2	111,{

if(EP7_LANGUE == 0) {set @name$,"^33CC00Livre^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Book^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Libro^000000";}
	
	if($livre2_zombie == 0)goto menu1;
	if($livre2_zombie == 1)goto menu2;

	menu1:
		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Vous venez de trouver un livre.";}
		if(EP7_LANGUE == 1) {mes "You just find a book.";}
		if(EP7_LANGUE == 2) {mes "Usted acaba de encontrar un libro.";}
		set $livre_zombie,$livre_zombie+1;
		set $livre2_zombie,1;
		close2;
		if($ep7_LangChoice & 1) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  vient de trouver un livre : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 1) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  vient de trouver un livre : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  found a book : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  found a book : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 4) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  encontrar un libro: Total [" + $livre_zombie + "/5].",bc_map; }
		if($ep7_LangChoice & 4) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  encontrar un libro: Total [" + $livre_zombie + "/5].",bc_map; }
		donpcevent "Zombie_survival::OnQuestFive";
		disablenpc "Livre#zom2";
		end;


	menu2:
		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Ce livre a déjà été pris";
		mes "Vous devez sortir au plus vite !";}
		if(EP7_LANGUE == 1) {mes "This book has already been taken";
		mes "You must get out as fast!";}
		if(EP7_LANGUE == 2) {mes "Este libro ya ha sido tomado";
		mes "Usted debe salir rápido!";}
		close;
		

}
//===========================================


ars_dun15,111,35,4	script	Livre#zom3	111,{


if(EP7_LANGUE == 0) {set @name$,"^33CC00Livre^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Book^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Libro^000000";}
	
	if($livre3_zombie == 0)goto menu1;
	if($livre3_zombie == 1)goto menu2;

	menu1:
		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Vous venez de trouver un livre.";}
		if(EP7_LANGUE == 1) {mes "You just find a book.";}
		if(EP7_LANGUE == 2) {mes "Usted acaba de encontrar un libro.";}
		set $livre_zombie,$livre_zombie+1;
		set $livre3_zombie,1;
		close2;
		if($ep7_LangChoice & 1) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  vient de trouver un livre : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 1) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  vient de trouver un livre : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  found a book : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  found a book : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 4) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  encontrar un libro: Total [" + $livre_zombie + "/5].",bc_map; }
		if($ep7_LangChoice & 4) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  encontrar un libro: Total [" + $livre_zombie + "/5].",bc_map; }
		donpcevent "Zombie_survival::OnQuestFive";
		disablenpc "Livre#zom3";
		end;


	menu2:
		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Ce livre a déjà été pris";
		mes "Vous devez sortir au plus vite !";}
		if(EP7_LANGUE == 1) {mes "This book has already been taken";
		mes "You must get out as fast!";}
		if(EP7_LANGUE == 2) {mes "Este libro ya ha sido tomado";
		mes "Usted debe salir rápido!";}
		close;
		

}
//===========================================

ars_dun15,25,159,4	script	Livre#zom4	111,{


if(EP7_LANGUE == 0) {set @name$,"^33CC00Livre^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Book^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Libro^000000";}
	
	if($livre4_zombie == 0)goto menu1;
	if($livre4_zombie == 1)goto menu2;

	menu1:
		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Vous venez de trouver un livre.";}
		if(EP7_LANGUE == 1) {mes "You just find a book.";}
		if(EP7_LANGUE == 2) {mes "Usted acaba de encontrar un libro.";}
		set $livre_zombie,$livre_zombie+1;
		set $livre4_zombie,1;
		close2;
		if($ep7_LangChoice & 1) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  vient de trouver un livre : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 1) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  vient de trouver un livre : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  found a book : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  found a book : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 4) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  encontrar un libro: Total [" + $livre_zombie + "/5].",bc_map; }
		if($ep7_LangChoice & 4) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  encontrar un libro: Total [" + $livre_zombie + "/5].",bc_map; }
		donpcevent "Zombie_survival::OnQuestFive";
		disablenpc "Livre#zom4";
		end;


	menu2:
		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Ce livre a déjà été pris";
		mes "Vous devez sortir au plus vite !";}
		if(EP7_LANGUE == 1) {mes "This book has already been taken";
		mes "You must get out as fast!";}
		if(EP7_LANGUE == 2) {mes "Este libro ya ha sido tomado";
		mes "Usted debe salir rápido!";}
		close;
		

}
//===========================================

ars_dun15,209,187,4	script	Livre#zom5	111,{


if(EP7_LANGUE == 0) {set @name$,"^33CC00Livre^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Book^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Libro^000000";}
	
	if($livre5_zombie == 0)goto menu1;
	if($livre5_zombie == 1)goto menu2;

	menu1:
		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Vous venez de trouver un livre.";}
		if(EP7_LANGUE == 1) {mes "You just find a book.";}
		if(EP7_LANGUE == 2) {mes "Usted acaba de encontrar un libro.";}
		set $livre_zombie,$livre_zombie+1;
		set $livre5_zombie,1;
		close2;
		if($ep7_LangChoice & 1) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  vient de trouver un livre : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 1) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  vient de trouver un livre : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  found a book : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  found a book : Total [" + $livre_zombie + "/5].",bc_map;} 
		if($ep7_LangChoice & 4) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  encontrar un libro: Total [" + $livre_zombie + "/5].",bc_map; }
		if($ep7_LangChoice & 4) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  encontrar un libro: Total [" + $livre_zombie + "/5].",bc_map; }
		donpcevent "Zombie_survival::OnQuestFive";
		disablenpc "Livre#zom5";
		end;


	menu2:
		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Ce livre a déjà été pris";
		mes "Vous devez sortir au plus vite !";}
		if(EP7_LANGUE == 1) {mes "This book has already been taken";
		mes "You must get out as fast!";}
		if(EP7_LANGUE == 2) {mes "Este libro ya ha sido tomado";
		mes "Usted debe salir rápido!";}
		close;
		

}
//===========================================
//  Part2 : La Statue

ars_dun15,283,33,4	script	Statue Demiurge#zo	111,{

if(EP7_LANGUE == 0) {set @name$,"^33CC00Statue Demiurge^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Statue Demiurge^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Estatua del Creador^000000";}
	
	if($statue_zombie == 0)goto menu1;
	if($statue_zombie == 1)goto menu2;

	menu1:
		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Vous venez de renverser la Statue, un grondement sourd se fait entendre !";
		mes "Des hordes de monstres arrivent !";}
		if(EP7_LANGUE == 1) {mes "You just turn the statue, a rumble is heard!";
		mes "hordes of monsters are coming!";}
		if(EP7_LANGUE == 2) {mes "Usted acaba de encender la estatua, un estruendo se oye!";
		mes "hordas de monstruos están viniendo!";}
		set $statue_zombie,1;
		close2;
		if($ep7_LangChoice & 1) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  vient de renverser la statue du Démiurge !",bc_map;} 
		if($ep7_LangChoice & 1) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  vient de renverser la statue du Démiurge !",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  overthrew the statue of the Demiurge!",bc_map;} 
		if($ep7_LangChoice & 2) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  overthrew the statue of the Demiurge!",bc_map;} 
		if($ep7_LangChoice & 4) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  es derrocar a la estatua del Creador!",bc_map; }
		if($ep7_LangChoice & 4) {mapannounce "ars_dun15","[" + strcharinfo(0) + "]  es derrocar a la estatua del Creador!",bc_map; }
		donpcevent "Zombie_survival::OnQuestFour";
		end;


	menu2:
		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "La Statue a été renversé provoquant la colère des Zombies !";
		mes "Vous devez sortir au plus vite !";}
		if(EP7_LANGUE == 1) {mes "The statue was toppled provoking the anger of Zombies!";
		mes "You must get out as fast!";}
		if(EP7_LANGUE == 2) {mes "La estatua fue derrocado provocando la ira de Zombies!";
		mes "Usted debe salir rápido!";}
		close;
		

}
//===========================================
//     Part1 : Les clés

ars_dun14,21,67,4	script	Action : Clé#1	111,{

if(EP7_LANGUE == 0) {set @name$,"^33CC00Action : Prendre^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Action : Take^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Acción : Tomar^000000";}

	callfunc "zombie_cle";
	end;

}
//===========================================
ars_dun14,47,168,4	script	Action : Clé#2	111,{

if(EP7_LANGUE == 0) {set @name$,"^33CC00Action : Prendre^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Action : Take^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Acción : Tomar^000000";}

	callfunc "zombie_cle";
	end;

}
//===========================================
ars_dun14,116,185,4	script	Action : Clé#3	111,{

if(EP7_LANGUE == 0) {set @name$,"^33CC00Action : Prendre^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Action : Take^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Acción : Tomar^000000";}

	callfunc "zombie_cle";
	end;

}
//===========================================
ars_dun14,168,124,4	script	Action : Clé#4	111,{

if(EP7_LANGUE == 0) {set @name$,"^33CC00Action : Prendre^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Action : Take^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Acción : Tomar^000000";}

	callfunc "zombie_cle";
	end;

}
//===========================================

//  Part1 : Les interrupteurs

ars_dun14,119,134,4	script	Interrupteur#zom1	1905,{

if(EP7_LANGUE == 0) {set @name$,"^33CC00Interrupteur^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Interruptor^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Interruptor^000000";}

	
	if($Inter_zombie == 0)goto menu1;
	else{

		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Ceci n'est pas le bon interrupteur !";
		mes "Vous venez de déclencher un piège !!";}
		if(EP7_LANGUE == 1) {mes "This is the wrong switch!";
		mes "You have trigger a trap!";}
		if(EP7_LANGUE == 2) {mes "Este es el interruptor equivocado!";
		mes "Usted tiene desencadenar la trampa!";}
		close2;
		monster "ars_dun14",110,140,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		monster "ars_dun14",124,129,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		monster "ars_dun14",138,145,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		monster "ars_dun14",140,128,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		end;

		}

	menu1:

		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Vous avez trouvé le bon interrupteur.";
		mes "La porte vers le sous-sol est désormais ouverte.";}
		if(EP7_LANGUE == 1) {mes "You found the right switch.";
		mes "The door to the basement is now open.";}
		if(EP7_LANGUE == 2) {mes "Usted encontró el interruptor de la derecha.";
		mes "La puerta del sótano ya está abierta.";}
		close2;
		donpcevent "Zombie_survival::OnQuestThree";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  vient d'activer le bon interrupteur !",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun14","[" + strcharinfo(0) + "] has enabled the proper switch!",bc_map; } 
		if($ep7_LangChoice & 4) {mapannounce "ars_dun14","[" + strcharinfo(0) + "] ha encendido el interruptor!",bc_map; }
		end;

}
//===========================================
ars_dun14,158,181,4	script	Interrupteur#zom2	1905,{

if(EP7_LANGUE == 0) {set @name$,"^33CC00Interrupteur^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Interruptor^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Interruptor^000000";}
	
	if($Inter_zombie == 1)goto menu1;
	else{

		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Ceci n'est pas le bon interrupteur !";
		mes "Vous venez de déclencher un piège !!";}
		if(EP7_LANGUE == 1) {mes "This is the wrong switch!";
		mes "You have trigger a trap!";}
		if(EP7_LANGUE == 2) {mes "Este es el interruptor equivocado!";
		mes "Usted tiene desencadenar la trampa!";}
		close2;
		monster "ars_dun14",110,140,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		monster "ars_dun14",124,129,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		monster "ars_dun14",138,145,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		monster "ars_dun14",140,128,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		end;

		}

	menu1:

		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Vous avez trouvé le bon interrupteur.";
		mes "La porte vers le sous-sol est désormais ouverte.";}
		if(EP7_LANGUE == 1) {mes "You found the right switch.";
		mes "The door to the basement is now open.";}
		if(EP7_LANGUE == 2) {mes "Usted encontró el interruptor de la derecha.";
		mes "La puerta del sótano ya está abierta.";}
		close2;
		donpcevent "Zombie_survival::OnQuestThree";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  vient d'activer le bon interrupteur !",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun14","[" + strcharinfo(0) + "] has enabled the proper switch!",bc_map; } 
		if($ep7_LangChoice & 4) {mapannounce "ars_dun14","[" + strcharinfo(0) + "] ha encendido el interruptor!",bc_map; }
		end;

}
//===========================================
ars_dun14,15,115,4	script	Interrupteur#zom3	1905,{

if(EP7_LANGUE == 0) {set @name$,"^33CC00Interrupteur^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Interruptor^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Interruptor^000000";}
	
	if($Inter_zombie == 2)goto menu1;
	else{

		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Ceci n'est pas le bon interrupteur !";
		mes "Vous venez de déclencher un piège !!";}
		if(EP7_LANGUE == 1) {mes "This is the wrong switch!";
		mes "You have trigger a trap!";}
		if(EP7_LANGUE == 2) {mes "Este es el interruptor equivocado!";
		mes "Usted tiene desencadenar la trampa!";}
		close2;
		monster "ars_dun14",110,140,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		monster "ars_dun14",124,129,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		monster "ars_dun14",138,145,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		monster "ars_dun14",140,128,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		end;

		}

	menu1:

		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Vous avez trouvé le bon interrupteur.";
		mes "La porte vers le sous-sol est désormais ouverte.";}
		if(EP7_LANGUE == 1) {mes "You found the right switch.";
		mes "The door to the basement is now open.";}
		if(EP7_LANGUE == 2) {mes "Usted encontró el interruptor de la derecha.";
		mes "La puerta del sótano ya está abierta.";}
		close2;
		donpcevent "Zombie_survival::OnQuestThree";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  vient d'activer le bon interrupteur !",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun14","[" + strcharinfo(0) + "] has enabled the proper switch!",bc_map; } 
		if($ep7_LangChoice & 4) {mapannounce "ars_dun14","[" + strcharinfo(0) + "] ha encendido el interruptor!",bc_map; }
		end;

}
//===========================================
ars_dun14,35,54,4	script	Interrupteur#zom4	1905,{

if(EP7_LANGUE == 0) {set @name$,"^33CC00Interrupteur^000000";}
if(EP7_LANGUE == 1) {set @name$,"^33CC00Interruptor^000000";}
if(EP7_LANGUE == 2) {set @name$,"^33CC00Interruptor^000000";}

	if($Inter_zombie == 3)goto menu1;
	else{

		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Ceci n'est pas le bon interrupteur !";
		mes "Vous venez de déclencher un piège !!";}
		if(EP7_LANGUE == 1) {mes "This is the wrong switch!";
		mes "You have trigger a trap!";}
		if(EP7_LANGUE == 2) {mes "Este es el interruptor equivocado!";
		mes "Usted tiene desencadenar la trampa!";}
		close2;
		monster "ars_dun14",110,140,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		monster "ars_dun14",124,129,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		monster "ars_dun14",138,145,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		monster "ars_dun14",140,128,"Bomb Poring",1904,2,"Zombie_survival::OnMyMobDead";
		end;

		}

	menu1:

		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Vous avez trouvé le bon interrupteur.";
		mes "La porte vers le sous-sol est désormais ouverte.";}
		if(EP7_LANGUE == 1) {mes "You found the right switch.";
		mes "The door to the basement is now open.";}
		if(EP7_LANGUE == 2) {mes "Usted encontró el interruptor de la derecha.";
		mes "La puerta del sótano ya está abierta.";}
		close2;
		donpcevent "Zombie_survival::OnQuestThree";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  vient d'activer le bon interrupteur !",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun14","[" + strcharinfo(0) + "] has enabled the proper switch!",bc_map; } 
		if($ep7_LangChoice & 4) {mapannounce "ars_dun14","[" + strcharinfo(0) + "] ha encendido el interruptor!",bc_map; }
		end;

}


//============ Fonctions ======================


function	script	zombie_cle	{

	if($cleprise == 0)goto menu1;
	if($cleprise == 1)goto menu2;

	menu1:

		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "Vous venez de Récupérer la clé.";}
		if(EP7_LANGUE == 1) {mes "You have to retrieve the key.";}
		if(EP7_LANGUE == 2) {mes "Tienes que recuperar la llave.";}
		close2;
		set $cleprise,1;
		donpcevent "Zombie_survival::OnQuestTwo";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  vient de récupérer la clé !",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  just got the key!",bc_map;} 
		if($ep7_LangChoice & 4) {mapannounce "ars_dun14","[" + strcharinfo(0) + "]  acaba de obtener la llave!",bc_map; }
		end;

	menu2:

		mes "[" + @name$ + "]";
		if(EP7_LANGUE == 0) {mes "La Clé a déjà été prise.";}
		if(EP7_LANGUE == 1) {mes "The key has already been taken.";}
		if(EP7_LANGUE == 2) {mes "La llave ya ha sido tomada.";}
		close;

}












//========================================================================================================
//                                Yummy
//========================================================================================================

function	script	arsi_Zomb01fr	{



if (EP7_GLOBAL < 27)  goto niveauquete;
if (EP7_ZOMBIE == 0)  goto sub1;
if (EP7_ZOMBIE == 1)  goto sub2;
if (EP7_ZOMBIE == 2)  goto sub3;
if (EP7_ZOMBIE == 3)  goto sub4;
if (EP7_ZOMBIE == 4 || EP7_ZOMBIE == 5)  goto sub5;
if (EP7_ZOMBIE >= 6)  goto sub6;

sub1:
	mes "[" + @name$ + "]"; 
	mes "Quelle catastrophe ! Je suis une prêtresse de Mortys, nous nous occupons d'embaumer les défunts pour les aider dans leur résurrection.";
	mes "Mais depuis quelques temps, nous avons un problème avec les défunts ... Ils sont quelques peu agités !!";
	next;
	mes "[" + @name$ + "]"; 
	mes "Nous tentons de monter une équipe pour ramener un peu de calme dans notre Temple ... Si tu souhaites faire parti de notre entreprise,";
	mes "Adresses-toi à Tasty, il se trouve dans la cité, il s'occupe des recrutements !";
	close2;
	setquest 70310;
	set EP7_ZOMBIE,1;
	end;

sub2:
	mes "[" + @name$ + "]"; 
	mes "Quelle catastrophe ! Je suis une prêtresse de Mortys, nous nous occupons d'embaumer les défunts pour les aider dans leur résurrection.";
	mes "Mais depuis quelques temps, nous avons un problème avec les défunts ... Ils sont quelques peu agités !!";
	next;
	mes "[" + @name$ + "]"; 
	mes "Nous tentons de monter une équipe pour ramener un peu de calme dans notre Temple ... Si tu souhaites faire parti de notre entreprise,";
	mes "Adresses-toi à Tasty, il se trouve dans la cité, il s'occupe des recrutements !";
	close;

sub3:
	mes "[" + @name$ + "]"; 
	mes "Oh merveilleux ! Il est plaisant d'avoir de braves aventuriers qui ne tiennent pas compte de notre réputation !";
	mes "Il faut dire que nous sommes quelque peu des pestiférés au vu de notre métier."; 
	close;

sub4:
	mes "[" + @name$ + "]"; 
	mes "Merci bien ! Notre temple est désormais bien plus calme, cela fait plaisir à voir !";
	mes "Il va falloir rabibocher les corps pour les rendre à leurs familles, cela ne va pas se faire sans réclamations !";
	next;
	mes "[" + @name$ + "]"; 
	mes "Mais cette agitation n'est pas normale du tout, les morts se lèvent et nous commençons à nous poser des questions ...";
	mes "Pendant que vous étiez dans le Temple, nous avons reçu un appel du Gardien de la Crypte d'Arsinoé qui a lui même quelques problèmes avec ses morts.";
	next;
	mes "[" + @name$ + "]"; 
	mes "Il ne peut plus du tout rentrer dans demeure, et c'est bien là notre problème, car nous avons besoin de livres de sortilèges.";
	mes "Livres qui doivent nous apporter les sorts nécessaires pour rapporter le calme dans nos cimetières !";
	next;
	mes "[" + @name$ + "]";
	mes "Si tu pouvais une fois plus nous aider ! Retrouve Chibi Youma, il est devant sa maison en train de maudir les zombies !";
	close2;
	changequest 70312,70313;
	set EP7_ZOMBIE,4;
	end;	

sub5:
	mes "[" + @name$ + "]"; 
	mes "Merci bien ! Notre temple est désormais bien plus calme, cela fait plaisir à voir !";
	mes "Il va falloir rabibocher les corps pour les rendre à leurs familles, cela ne va pas se faire sans réclamations !";
	next;
	mes "[" + @name$ + "]"; 
	mes "Mais cette agitation n'est pas normale du tout, les morts se lèvent et nous commençons à nous poser des questions ...";
	mes "Pendant que vous étiez dans le Temple, nous avons reçu un appel du Gardien de la Crypte d'Arsinoé qui a lui même quelques problèmes avec ses morts.";
	next;
	mes "[" + @name$ + "]"; 
	mes "Il ne peut plus du tout rentrer dans demeure, et c'est bien là notre problème, car nous avons besoin de livres de sortilèges.";
	mes "Livres qui doivent nous apporter les sorts nécessaires pour rapporter le calme dans nos cimetières !";
	next;
	mes "[" + @name$ + "]";
	mes "Si tu pouvais une fois plus nous aider ! Retrouve Chibi Youma, il est devant sa maison en train de maudir les zombies !";
	close;

sub6:
	mes "[" + @name$ + "]"; 
	mes "Merci pour ton aide ! Si tu as besoin de nos services, nous te ferons un prix pour t'embaumer !";
	close;

niveauquete:

	mes "[" + @name$ + "]"; 
	mes "Je suis une prêtresse de Mortys, nous nous occupons d'embaumer les défunts pour les aider dans leur résurrection.";
	close;
}

//========================================================================================================

function	script	arsi_Zomb01en	{


if (EP7_GLOBAL < 27)  goto niveauquete;
if (EP7_ZOMBIE == 0)  goto sub1;
if (EP7_ZOMBIE == 1)  goto sub2;
if (EP7_ZOMBIE == 2)  goto sub3;
if (EP7_ZOMBIE == 3)  goto sub4;
if (EP7_ZOMBIE == 4 || EP7_ZOMBIE == 5)  goto sub5;
if (EP7_ZOMBIE >= 6)  goto sub6;

sub1:
	mes "[" + @name$ + "]"; 
	mes "What a catastrophe! I am a priestess of Morty, we take care of embalming the dead to help them in their resurrection.";
	mes "But lately, we have a problem with our dead ... They are some what agitated!";
	next;
	mes "[" + @name$ + "]"; 
	mes "We're trying to organize a team to bring some calm in our temple ... If you want to be in our group,";
	mes "please talk to Tasty, he is in the city, he recruits adventurers!";
	close2;
	setquest 70310;
	set EP7_ZOMBIE,1;
	end;

sub2:
	mes "[" + @name$ + "]"; 
	mes "What a catastrophe! I am a priestess of Morty, we take care of embalming the dead to help them in their resurrection.";
	mes "But lately, we have a problem with our deads ... They are somewhat agitated!";
	next;
	mes "[" + @name$ + "]"; 
	mes "We're trying to organize a team to bring some calm in our temple ... If you want to be in our group,";
	mes "please talk to Tasty, he is in the city, he will recruit adventurers!";
	close;

sub3:
	mes "[" + @name$ + "]"; 
	mes "Oh wonderful! It is pleasant to have brave adventurers who don't take care of our reputation!";
	mes "I must say that we are hated because of our business.";
	close;

sub4:
	mes "[" + @name$ + "]"; 
	mes "Thank you! Our temple is now much calmer, it's good to see!";
	mes "We'll have to patch up bodies to bring them to their families, this will not happen without complaints!";
	next;
	mes "[" + @name$ + "]"; 
	mes "But this agitation is not normal at all, the dead rise and we begin to ask questions ...";
	mes "While you were in the temple, we received a call from the Crypt Keeper of Arsinoe which itself has some problems with its dead.";
	next;
	mes "[" + @name$ + "]"; 
	mes "He can't return at all in his remains, and this is our problem because we need books of spells for ending this dead rising.";
	mes "Books that we must make the necessary spells for bringing calm to our cemeteries!";
	next;
	mes "[" + @name$ + "]";
	mes "If you could once more help! Retrieve Chibi Youma, he is in front of his house begining to curse those zombies!";
	close2;
	changequest 70312,70313;
	set EP7_ZOMBIE,4;
	end;	

sub5:
	mes "[" + @name$ + "]"; 
	mes "Thank you! Our temple is now much calmer, it is good to see!";
	mes "We'll have to patch up bodies to bring them to their families, this will not happen without having complaints!";
	next;
	mes "[" + @name$ + "]"; 
	mes "But this agitation is not normal at all, the dead rise and we begin to ask questions ...";
	mes "While you were in the temple, we received a call from the Crypt Keeper of Arsinoe and he himself has some problems with the dead.";
	next;
	mes "[" + @name$ + "]"; 
	mes "He can't return at all to his remains, and this is our problem because we need books of the spells for ending this deads rising problem.";
	mes "Books that we must use the necessary spells for bringing calm to our cemeteries!";
	next;
	mes "[" + @name$ + "]";
	mes "If you could once more help! Retrieve Chibi Youma, he is in front of his house begining to curse those zombies!";
	close;

sub6:
	mes "[" + @name$ + "]"; 
	mes "Thank you for your help! If you need our services, we will make you a price to embalm you!";
	close;

niveauquete:

	mes "[" + @name$ + "]"; 
	mes "I am a priestess of Morty, we take care of embalming the dead to help them in their resurrection.";
	close;


}

//========================================================================================================

function	script	arsi_Zomb01sp	{

if (EP7_GLOBAL < 27)  goto niveauquete;
if (EP7_ZOMBIE == 0)  goto sub1;
if (EP7_ZOMBIE == 1)  goto sub2;
if (EP7_ZOMBIE == 2)  goto sub3;
if (EP7_ZOMBIE == 3)  goto sub4;
if (EP7_ZOMBIE == 4 || EP7_ZOMBIE == 5)  goto sub5;
if (EP7_ZOMBIE >= 6)  goto sub6;

sub1:
	mes "[" + @name$ + "]"; 
	mes "¡Qué catástrofe! Yo soy una sacerdotisa de Morty, nosotros nos encargamos de embalsamar a los muertos para ayudarles en su resurrección.";
	mes "Pero últimamente, tenemos un problema con nuestros muertos ... Ellos son algunos de lo agitado!";
	next;
	mes "[" + @name$ + "]"; 
	mes "Estamos tratando de organizar un equipo para llevar algo de calma en nuestro templo... Si quieres estar en nuestro grupo,";
	mes "por favor hable con Tasty, se encuentra en la ciudad, ¡recluta a los aventureros!";
	close2;
	setquest 70310;
	set EP7_ZOMBIE,1;
	end;

sub2:
	mes "[" + @name$ + "]"; 
	mes "¡Qué catástrofe! Yo soy una sacerdotisa de Morty, nosotros nos encargamos de embalsamar a los muertos para ayudarles en su resurrección.";
	mes "Pero últimamente, tenemos un problema con nuestros muertos ... Son algo agitada!";
	next;
	mes "[" + @name$ + "]"; 
	mes "Estamos tratando de organizar un equipo para llevar algo de calma en nuestro templo... Si quieres estar en nuestro grupo,";
	mes "por favor hable con Tasty, se encuentra en la ciudad, ¡recluta a los aventureros!";
	close;

sub3:
	mes "[" + @name$ + "]"; 
	mes "¡Oh maravilla! Es agradable tener valientes aventureros que no toman el cuidado de nuestra reputación!";
	mes "Debo decir que somos odiados por nuestro negocio.";
	close;

sub4:
	mes "[" + @name$ + "]"; 
	mes "¡Gracias! Nuestro templo es ahora mucho más tranquilo, es bueno verlo!";
	mes "Vamos a tener que arreglar los cuerpos para llevarlos a sus familias, esto no sucederá sin quejas!";
	next;
	mes "[" + @name$ + "]"; 
	mes "Pero esta agitación no es normal en todos, los muertos se levantan y comienzan a hacer preguntas...";
	mes "Mientras estaban en el templo, que recibió una llamada de el Guardián de la Cripta de Arsinoe, que en sí tiene algunos problemas con sus muertos.";
	next;
	mes "[" + @name$ + "]"; 
	mes "Él no puede volver a todos en sus restos, y este es nuestro problema porque tenemos libros de hechizos para poner fin a este aumento de los muertos.";
	mes "Los libros que tenemos que hacer los hechizos necesarios para llevar tranquilidad a nuestros cementerios!";
	next;
	mes "[" + @name$ + "]";
	mes "Si usted puede ayudar una vez más! Recuperar Chibi Youma, que está en frente de su casa comienza a maldecir a los zombis!";
	close2;
	changequest 70312,70313;
	set EP7_ZOMBIE,4;
	end;	

sub5:
	mes "[" + @name$ + "]"; 
	mes "¡Gracias! Nuestro templo es ahora mucho más tranquilo, es bueno verlo!";
	mes "Vamos a tener que arreglar los cuerpos para llevarlos a sus familias, esto no sucederá sin quejas!";
	next;
	mes "[" + @name$ + "]"; 
	mes "Pero esta agitación no es normal en todos, los muertos se levantan y comienzan a hacer preguntas...";
	mes "Mientras estaban en el templo, que recibió una llamada de el Guardián de la Cripta de Arsinoe, que en sí tiene algunos problemas con sus muertos.";
	next;
	mes "[" + @name$ + "]"; 
	mes "Él no puede volver a todos en sus restos, y este es nuestro problema porque tenemos libros de hechizos para poner fin a este aumento de los muertos.";
	mes "Los libros que tenemos que hacer los hechizos necesarios para llevar tranquilidad a nuestros cementerios!";
	next;
	mes "[" + @name$ + "]";
	mes "Si usted puede ayudar una vez más! Recuperar Chibi Youma, que está en frente de su casa comienza a maldecir a los zombis!";
	close;

sub6:
	mes "[" + @name$ + "]"; 
	mes "Gracias por tu ayuda! Si necesita nuestros servicios, le hacen un precio para embalsamar!";
	close;

niveauquete:

	mes "[" + @name$ + "]"; 
	mes "Yo soy una sacerdotisa de Morty, nosotros nos encargamos de embalsamar a los muertos para ayudarles en su resurrección.";
	close;


}

//========================================================================================================
//                                Tasty
//========================================================================================================

function	script	arsi_Zomb02fr	{


if (EP7_ZOMBIE == 0)  goto sub1;
if (EP7_ZOMBIE == 1)  goto sub2;
if (EP7_ZOMBIE == 2)  goto sub3;
if (EP7_ZOMBIE <= 5)  goto sub4;
if (EP7_ZOMBIE >= 6)  goto sub5;

sub1:
	mes "[" + @name$ + "]"; 
	mes "J'aime bien m'isoler un peu, cela me permet de réfléchir aux problèmes que nous traversons.";
	close;
	

sub2:
	mes "[" + @name$ + "]"; 
	mes "Ah, Yummy t'as parlé de notre problème ?";
	mes "Bon inutile de revenir dessus, nous sommes bien en manque d'hommes en arme depuis le début de la guerre, donc je ne me vois pas faire la fine bouche pour recruter.";
	next;
	mes "[" + @name$ + "]"; 
	mes "Tu peux désormais entrer dans le temple pour voir un peu ce qui s'y passe.";
	mes "Prépare tes armes et tes sorts, il va y avoir des Morts-Vivants à calmer !";
	close2;
	changequest 70310,70311;
	set EP7_ZOMBIE,2;
	end;
sub3:
	mes "[" + @name$ + "]"; 
	mes "Ah, Yummy t'as parlé de notre problème ?";
	mes "Bon inutile de revenir dessus, nous sommes bien en manque d'hommes en arme depuis le début de la guerre, donc je ne me vois pas faire la fine bouche pour recruter.";
	next;
	mes "[" + @name$ + "]"; 
	mes "Tu peux désormais entrer dans le temple pour voir un peu ce qui s'y passe.";
	mes "Prépare tes armes et tes sorts, il va y avoir des Morts-Vivants à calmer !";
	close;

sub4:
	mes "[" + @name$ + "]"; 
	mes "Beau massacre ! Je m'inquiète pour le pauvre Chibi Youma maintenant ...";
	close;

sub5:
	mes "[" + @name$ + "]"; 
	mes "Merci pour ton aide !";
	close;

}

//========================================================================================================

function	script	arsi_Zomb02en	{


if (EP7_ZOMBIE == 0)  goto sub1;
if (EP7_ZOMBIE == 1)  goto sub2;
if (EP7_ZOMBIE == 2)  goto sub3;
if (EP7_ZOMBIE <= 5)  goto sub4;
if (EP7_ZOMBIE >= 6)  goto sub5;

sub1:
	mes "[" + @name$ + "]"; 
	mes "I like to isolate myself abit, it lets me think about the problems we are experiencing.";
	close;
	

sub2:
	mes "[" + @name$ + "]"; 
	mes "Oh, Yummy you talked about our problem?";
	mes "Well no need to revisit it, we are in need of men in arms since the war began, so I don't see myself be choosy in recruiting.";
	next;
	mes "[" + @name$ + "]"; 
	mes "You can now enter the temple to see what happens.";
	mes "Prepare your weapons and your spells, there will be Undead to Kill again!";
	close2;
	changequest 70310,70311;
	set EP7_ZOMBIE,2;
	end;
sub3:
	mes "[" + @name$ + "]"; 
	mes "Oh, Yummy you talked about our problem?";
	mes "Well no need to revisit it, we are in need of men in arms since the war began, so I don't see myself be choosy in recruiting.";
	next;
	mes "[" + @name$ + "]"; 
	mes "You can now enter the temple to see what happens.";
	mes "Prepare your weapons and your spells, there will be Undead to Kill again!";
	close;

sub4:
	mes "[" + @name$ + "]"; 
	mes "Beautiful massacre, I am concerned for poor Chibi Youma now ...";
	close;

sub5:
	mes "[" + @name$ + "]"; 
	mes "Thank you for your help!";
	close;

}

//========================================================================================================

function	script	arsi_Zomb02sp	{

if (EP7_ZOMBIE == 0)  goto sub1;
if (EP7_ZOMBIE == 1)  goto sub2;
if (EP7_ZOMBIE == 2)  goto sub3;
if (EP7_ZOMBIE <= 5)  goto sub4;
if (EP7_ZOMBIE >= 6)  goto sub5;

sub1:
	mes "[" + @name$ + "]"; 
	mes "Me gusta aislarme abit, me permite pensar en los problemas que estamos viviendo.";
	close;
	

sub2:
	mes "[" + @name$ + "]"; 
	mes "¡Oh, Yummy ha hablado acerca de nuestro problema?";
	mes "Bueno hay necesidad de volver, estamos en la necesidad de los hombres en armas desde que comenzó la guerra, así que no veo a mí mismo ser selectivo en el reclutamiento.";
	next;
	mes "[" + @name$ + "]"; 
	mes "Ahora puede entrar en el templo para ver lo que sucede.";
	mes "Prepara tus armas y tus hechizos, habrá muertos vivientes de matar otra vez!";
	close2;
	changequest 70310,70311;
	set EP7_ZOMBIE,2;
	end;
sub3:
	mes "[" + @name$ + "]"; 
	mes "¡Oh, Yummy ha hablado acerca de nuestro problema?";
	mes "Bueno hay necesidad de volver, estamos en la necesidad de los hombres en armas desde que comenzó la guerra, así que no veo a mí mismo ser selectivo en el reclutamiento.";
	next;
	mes "[" + @name$ + "]"; 
	mes "Ahora puede entrar en el templo para ver lo que sucede.";
	mes "Prepara tus armas y tus hechizos, habrá muertos vivientes de matar otra vez!";
	close;

sub4:
	mes "[" + @name$ + "]"; 
	mes "Bella masacre, me preocupa por los pobres Youma Chibi ahora...";
	close;

sub5:
	mes "[" + @name$ + "]"; 
	mes "¡Gracias por tu ayuda!";
	close;

}
//========================================================================================================
//                                Exit
//========================================================================================================

function	script	arsi_Zomb03fr	{


	mes "[" + @name$ + "]";
	mes "Bien " + strcharinfo(0) + "";
	mes "Tu veux sortir de l'instance ? Vous avez [" + $silverc_horror/8 + "] Silver Coins !";
	mes "Vous avez [" + $silverc_horror + "] Points, il en faut 400 pour valider la quête !";
	mes "Il est impossible de revenir durant l'Instance.";
	next;
	menu "•Oui",cw1,"•Non",-;	
	
	close;

	cw1:

	mes "[" + @name$ + "]";
	mes "Bien " + strcharinfo(0) + ", retour à l'entrée du temple !"; 
	close2;

	//Validation de la quête avec 400 points
	if ($silverc_horror >= 400 && EP7_ZOMBIE == 2) {
	dispbottom "Vous venez de valider la quête !";
	set EP7_ZOMBIE,3;
	changequest 70311,70312;
	getitem $ep7_Tcoins,$silverc_horror/8;
	warp "ars_in02.gat",239,177;
	end;
	}

	dispbottom "Vous n'avez pas eu les 400 points requis pour valider la quête.";
	getitem $ep7_Tcoins,$silverc_horror/8;
	warp "ars_in02.gat",239,177;
	end;


}

//========================================================================================================

function	script	arsi_Zomb03en	{


	mes "[" + @name$ + "]";
	mes "Well " + strcharinfo(0) + "";
	mes "Do you want to leave the Instance? You got [" + $silverc_horror/8 + "] "+getitemname($ep7_Tcoins)+" !";
	mes "and you got [" + $silverc_horror + "] Points, You need 400 to validate the quest !";
	mes "It is impossible to return during the Instance.";
	next;
	menu "•Yes",cw1,"•No",-;	
	
	close;

	cw1:

	mes "[" + @name$ + "]";
	mes "Good " + strcharinfo(0) + ", return to the entrance of the temple!"; 
	close2;

	//Validation de la quête avec 400 points
	if ($silverc_horror >= 400 && EP7_ZOMBIE == 2) {
	dispbottom "You have to validate the Quest!";
	set EP7_ZOMBIE,3;
	changequest 70311,70312;
	getitem $ep7_Tcoins,$silverc_horror/8;
	warp "ars_in02.gat",239,177;
	end;
	}

	dispbottom "You don't have the 400 points required to validate the quest.";
	getitem $ep7_Tcoins,$silverc_horror/8;
	warp "ars_in02.gat",239,177;
	end;


}
//========================================================================================================

function	script	arsi_Zomb03sp	{


	mes "[" + @name$ + "]";
	mes "Buenas " + strcharinfo(0) + "";
	mes "¿Quieres salir de la estancia? Tienes [" + $silverc_horror/8 + "] "+getitemname($ep7_Tcoins)+" !";
	mes "y tienes [" + $silverc_horror + "] Puntos, Se necesitan 400 para validar la quest!";
	mes "Es imposible volver en la Estancia.";
	next;
	menu "•Si",cw1,"•No",-;	
	
	close;

	cw1:

	mes "[" + @name$ + "]";
	mes "Buenas " + strcharinfo(0) + ", volver a la entrada del templo!"; 
	close2;

	//Validación de la búsqueda con 400 puntos
	if ($silverc_horror >= 400 && EP7_ZOMBIE == 2) {
	dispbottom "Usted tiene que validar la Quest!";
	set EP7_ZOMBIE,3;
	changequest 70311,70312;
	getitem $ep7_Tcoins,$silverc_horror/8;
	warp "ars_in02.gat",239,177;
	end;
	}

	dispbottom "Usted no tiene los 400 puntos necesarios para validar la quest.";
	getitem $ep7_Tcoins,$silverc_horror/8;
	warp "ars_in02.gat",239,177;
	end;


}
//========================================================================================================
//                                Manager
//========================================================================================================

function	script	arsi_Zomb04fr	{


	mes "[" + @name$ + "]";
	mes "Bien " + strcharinfo(0) + "";
	mes "Quelle Barricade veux-tu reconstruire ? Vous avez [" + $monster_horror + "] points.";
	mes "Le prix d'une barricade est de : [" + $prix_horror + "] points.";
	next;
	menu "•Barricade 1-1",bar1,"•Barricade 1-2",bar2,"•Barricade 1-3",bar3,"•Barricade 2-1",bar4,"•Barricade 2-2",bar5,"•Barricade 2-3",bar6;
	

	Nopoints:

		mes "[" + @name$ + "]";
		mes "Vous avez seulement [" + $monster_horror + "] et le prix d'une barricade est de [" + $prix_horror$ + "]."; 
		close;

	Nodetruite:

		mes "[" + @name$ + "]";
		mes "Cette barricade n'est pas encore tombée."; 
		close;

	bar1:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric11_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Bien " + strcharinfo(0) + ", La barricade va être reconstruite."; 
		close2;
		donpcevent "EP7_Zombie::OnBarricadeOn11";
		donpcevent "EP7_Zombie::OnBarricadeSpawn11";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 1-1 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 1-1 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 1-1 ha sido reconstruida",bc_map;}
		set $baric11_horror,0;
		set $monster_horror, $monster_horror-$prix_horror;
		set $prix_horror, $prix_horror+20;
		end;
	
	bar2:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric12_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Bien " + strcharinfo(0) + ", La barricade va être reconstruite."; 
		close2;
		donpcevent "EP7_Zombie::OnBarricadeOn12";
		donpcevent "EP7_Zombie::OnBarricadeSpawn12";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 1-2 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 1-2 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 1-2 ha sido reconstruida",bc_map;}
		set $baric12_horror,0;
		set $monster_horror, $monster_horror-$prix_horror$;
		set $prix_horror, $prix_horror+20;
		end;

	bar3:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric13_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Bien " + strcharinfo(0) + ", La barricade va être reconstruite."; 
		close2;
		donpcevent "EP7_Zombie::OnBarricadeOn13";
		donpcevent "EP7_Zombie::OnBarricadeSpawn13";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 1-3 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 1-3 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 1-3 ha sido reconstruida",bc_map;}
		set $baric13_horror,0;
		set $monster_horror, $monster_horror-$prix_horror;
		set $prix_horror, $prix_horror+20;
		end;

	bar4:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric21_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Bien " + strcharinfo(0) + ", La barricade va être reconstruite."; 
		close2;
		donpcevent "EP7_Zombie::OnBarricadeOn21";
		donpcevent "EP7_Zombie::OnBarricadeSpawn21";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 2-1 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 2-1 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 2-1 ha sido reconstruida",bc_map;}
		set $baric21_horror,0;
		set $monster_horror, $monster_horror-$prix_horror;
		set $prix_horror, $prix_horror+20;
		end;

	bar5:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric22_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Bien " + strcharinfo(0) + ", La barricade va être reconstruite."; 
		close2;
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 2-2 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 2-2 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 2-2 ha sido reconstruida",bc_map;}
		donpcevent "EP7_Zombie::OnBarricadeOn22";
		donpcevent "EP7_Zombie::OnBarricadeSpawn22";
		set $baric22_horror,0;
		set $monster_horror, $monster_horror-$prix_horror;
		set $prix_horror, $prix_horror+20;
		end;

	bar6:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric23_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Bien " + strcharinfo(0) + ", La barricade va être reconstruite."; 
		close2;
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 2-3 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 2-3 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 2-3 ha sido reconstruida",bc_map;}
		donpcevent "EP7_Zombie::OnBarricadeOn23";
		donpcevent "EP7_Zombie::OnBarricadeSpawn23";
		set $baric23_horror,0;
		set $monster_horror, $monster_horror-$prix_horror;
		set $prix_horror, $prix_horror+20;
		end;
}
//========================================================================================================

function	script	arsi_Zomb04en	{


	mes "[" + @name$ + "]";
	mes "Well " + strcharinfo(0) + "";
	mes "Which barricade do you want rebuild ? You got [" + $monster_horror + "] points.";
	mes "The price of a barricade is : [" + $prix_horror + "] points.";
	next;
	menu "•Barricade 1-1",bar1,"•Barricade 1-2",bar2,"•Barricade 1-3",bar3,"•Barricade 2-1",bar4,"•Barricade 2-2",bar5,"•Barricade 2-3",bar6;
	

	Nopoints:

		mes "[" + @name$ + "]";
		mes "You only got [" + $monster_horror + "] and the price of a barricade is [" + $prix_horror$ + "]."; 
		close;

	Nodetruite:

		mes "[" + @name$ + "]";
		mes "This barricade is not fallen yet."; 
		close;

	bar1:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric11_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Well " + strcharinfo(0) + ", the barricade will be rebuilt."; 
		close2;
		donpcevent "EP7_Zombie::OnBarricadeOn11";
		donpcevent "EP7_Zombie::OnBarricadeSpawn11";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 1-1 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 1-1 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 1-1 ha sido reconstruida",bc_map;}
		set $baric11_horror,0;
		set $monster_horror, $monster_horror-$prix_horror;
		set $prix_horror, $prix_horror+20;
		end;
	
	bar2:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric12_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Well " + strcharinfo(0) + ", the barricade will be rebuilt."; 
		close2;
		donpcevent "EP7_Zombie::OnBarricadeOn12";
		donpcevent "EP7_Zombie::OnBarricadeSpawn12";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 1-2 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 1-2 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 1-2 ha sido reconstruida",bc_map;}
		set $baric12_horror,0;
		set $monster_horror, $monster_horror-$prix_horror$;
		set $prix_horror, $prix_horror+20;
		end;

	bar3:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric13_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Well " + strcharinfo(0) + ", the barricade will be rebuilt."; 
		close2;
		donpcevent "EP7_Zombie::OnBarricadeOn13";
		donpcevent "EP7_Zombie::OnBarricadeSpawn13";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 1-3 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 1-3 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 1-3 ha sido reconstruida",bc_map;}
		set $baric13_horror,0;
		set $monster_horror, $monster_horror-$prix_horror;
		set $prix_horror, $prix_horror+20;
		end;

	bar4:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric21_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Well " + strcharinfo(0) + ", the barricade will be rebuilt."; 
		close2;
		donpcevent "EP7_Zombie::OnBarricadeOn21";
		donpcevent "EP7_Zombie::OnBarricadeSpawn21";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 2-1 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 2-1 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 2-1 ha sido reconstruida",bc_map;}
		set $baric21_horror,0;
		set $monster_horror, $monster_horror-$prix_horror;
		set $prix_horror, $prix_horror+20;
		end;

	bar5:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric22_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Well " + strcharinfo(0) + ", the barricade will be rebuilt."; 
		close2;
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 2-2 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 2-2 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 2-2 ha sido reconstruida",bc_map;}
		donpcevent "EP7_Zombie::OnBarricadeOn22";
		donpcevent "EP7_Zombie::OnBarricadeSpawn22";
		set $baric22_horror,0;
		set $monster_horror, $monster_horror-$prix_horror;
		set $prix_horror, $prix_horror+20;
		end;

	bar6:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric23_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Well " + strcharinfo(0) + ", the barricade will be rebuilt."; 
		close2;
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 2-3 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 2-3 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 2-3 ha sido reconstruida",bc_map;}
		donpcevent "EP7_Zombie::OnBarricadeOn23";
		donpcevent "EP7_Zombie::OnBarricadeSpawn23";
		set $baric23_horror,0;
		set $monster_horror, $monster_horror-$prix_horror;
		set $prix_horror, $prix_horror+20;
		end;
}
//========================================================================================================

function	script	arsi_Zomb04sp	{


	mes "[" + @name$ + "]";
	mes "Buenas " + strcharinfo(0) + "";
	mes "¿Qué Barrera quiere reconstruir? Tienes [" + $monster_horror + "] puntos.";
	mes "El precio de una Barrera es la siguiente: [" + $prix_horror + "] puntos.";
	next;
	menu "•Barrera 1-1",bar1,"•Barrera 1-2",bar2,"•Barrera 1-3",bar3,"•Barrera 2-1",bar4,"•Barrera 2-2",bar5,"•Barrera 2-3",bar6;
	

	Nopoints:

		mes "[" + @name$ + "]";
		mes "Sólo tienes [" + $monster_horror + "] y el precio de una barrera es [" + $prix_horror$ + "]."; 
		close;

	Nodetruite:

		mes "[" + @name$ + "]";
		mes "Esta barrera no ha caído todavía."; 
		close;

	bar1:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric11_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Buenas " + strcharinfo(0) + ", la Barrera será reconstruida."; 
		close2;
		donpcevent "EP7_Zombie::OnBarricadeOn11";
		donpcevent "EP7_Zombie::OnBarricadeSpawn11";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 1-1 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 1-1 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 1-1 ha sido reconstruida",bc_map;}
		set $baric11_horror,0;
		set $monster_horror, $monster_horror-$prix_horror;
		set $prix_horror, $prix_horror+20;
		end;
	
	bar2:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric12_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Buenas " + strcharinfo(0) + ", la Barrera será reconstruida."; 
		close2;
		donpcevent "EP7_Zombie::OnBarricadeOn12";
		donpcevent "EP7_Zombie::OnBarricadeSpawn12";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 1-2 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 1-2 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 1-2 ha sido reconstruida",bc_map;}
		set $baric12_horror,0;
		set $monster_horror, $monster_horror-$prix_horror$;
		set $prix_horror, $prix_horror+20;
		end;

	bar3:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric13_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Buenas " + strcharinfo(0) + ", la Barrera será reconstruida."; 
		close2;
		donpcevent "EP7_Zombie::OnBarricadeOn13";
		donpcevent "EP7_Zombie::OnBarricadeSpawn13";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 1-3 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 1-3 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 1-3 ha sido reconstruida",bc_map;}
		set $baric13_horror,0;
		set $monster_horror, $monster_horror-$prix_horror;
		set $prix_horror, $prix_horror+20;
		end;

	bar4:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric21_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Buenas " + strcharinfo(0) + ", la Barrera será reconstruida."; 
		close2;
		donpcevent "EP7_Zombie::OnBarricadeOn21";
		donpcevent "EP7_Zombie::OnBarricadeSpawn21";
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 2-1 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 2-1 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 2-1 ha sido reconstruida",bc_map;}
		set $baric21_horror,0;
		set $monster_horror, $monster_horror-$prix_horror;
		set $prix_horror, $prix_horror+20;
		end;

	bar5:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric22_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Buenas " + strcharinfo(0) + ", la Barrera será reconstruida."; 
		close2;
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 2-2 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 2-2 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 2-2 ha sido reconstruida",bc_map;}
		donpcevent "EP7_Zombie::OnBarricadeOn22";
		donpcevent "EP7_Zombie::OnBarricadeSpawn22";
		set $baric22_horror,0;
		set $monster_horror, $monster_horror-$prix_horror;
		set $prix_horror, $prix_horror+20;
		end;

	bar6:
	
		if ($monster_horror < $prix_horror) goto Nopoints;
		if ($baric23_horror == 0) goto Nodetruite;

		mes "[" + @name$ + "]";
		mes "Buenas " + strcharinfo(0) + ", la Barrera será reconstruida."; 
		close2;
		if($ep7_LangChoice & 1) {mapannounce "ars_dun13","La Barricade 2-3 a été reconstruite",bc_map;}
		if($ep7_LangChoice & 2) {mapannounce "ars_dun13","The Barricade 2-3 has been rebuild",bc_map;}
		if($ep7_LangChoice & 4) {mapannounce "ars_dun13","La Barrera 2-3 ha sido reconstruida",bc_map;}
		donpcevent "EP7_Zombie::OnBarricadeOn23";
		donpcevent "EP7_Zombie::OnBarricadeSpawn23";
		set $baric23_horror,0;
		set $monster_horror, $monster_horror-$prix_horror;
		set $prix_horror, $prix_horror+20;
		end;
}


//========================================================================================================
//                                Chibi
//========================================================================================================

function	script	arsi_Zomb05fr	{


if (EP7_ZOMBIE <= 3)  goto sub1;
if (EP7_ZOMBIE == 4)  goto sub2;
if (EP7_ZOMBIE == 5)  goto sub3;
if (EP7_ZOMBIE >= 6)  goto sub4;

sub1:
	mes "[" + @name$ + "]"; 
	mes "Me voilà délogé de ma maison ... Je n'ai plus que la charité pour m'abriter.";
	close;
	

sub2:
	mes "[" + @name$ + "]"; 
	mes "Ah, vous faites parti du Temple de Mortys ?";
	mes "J'ai été délogé de ma propre demeure par des morts-vivants !";
	next;
	mes "[" + @name$ + "]"; 
	mes "J'aimerai que tu ailles récupérer mes livres de sorts dans ma crypte.";
	mes "Il faut que je puis inverser les effets de ce liquide d'embaumement qui ne fait pas seulement la conservation des corps mais les rend bien trop vivaces !";
	close2;
	changequest 70313,70314;
	set EP7_ZOMBIE,5;
	end;

sub3:
	mes "[" + @name$ + "]"; 
	mes "Ah, vous faites parti du Temple de Mortys ?";
	mes "J'ai été délogé de ma propre demeure par des morts-vivants !";
	next;
	mes "[" + @name$ + "]"; 
	mes "J'aimerai que tu ailles récupérer mes livres de sorts dans ma crypte.";
	mes "Il faut que je puis inverser les effets de ce liquide d'embaumement qui ne fait pas seulement la conservation des corps mais les rend bien trop vivaces !";
	close;

sub4:
	mes "[" + @name$ + "]"; 
	mes "Quelle belle réussite ! Merci pour les ouvrages, je fais en fin pouvoir mettre fin à cette triste histoire avant que les autorités la remarque.";
	mes "Déjà que personne ne nous apprécie vraiment, je n'aimerai pas me retrouver au bout d'une corde pour cette histoire.";
	close;


}
//========================================================================================================

function	script	arsi_Zomb05en	{

if (EP7_ZOMBIE <= 3)  goto sub1;
if (EP7_ZOMBIE == 4)  goto sub2;
if (EP7_ZOMBIE == 5)  goto sub3;
if (EP7_ZOMBIE >= 6)  goto sub4;

sub1:
	mes "[" + @name$ + "]"; 
	mes "Here I am evicted from my house ... I have only my hope to shelter me.";
	close;
	

sub2:
	mes "[" + @name$ + "]"; 
	mes "Ah, you come from the Temple of Mortys?";
	mes "I have been dislodged from my own house by the zombies!";
	next;
	mes "[" + @name$ + "]"; 
	mes "I would like you to go get my book of spells in my crypt.";
	mes "I will then reverse the effects of embalming fluid that is not only conservation but the body makes them too lively!";
	close2;
	changequest 70313,70314;
	set EP7_ZOMBIE,5;
	end;

sub3:
	mes "[" + @name$ + "]"; 
	mes "Ah, you come from the Temple of Mortys?";
	mes "I have been dislodged from my own house by the zombies!";
	next;
	mes "[" + @name$ + "]"; 
	mes "I would like you to go get my book of spells in my crypt.";
	mes "I will then reverse the effects of embalming fluid that is not only conservation but the body makes them too lively!";
	close;

sub4:
	mes "[" + @name$ + "]"; 
	mes "What a great success! Thanks for the books, I am finally able to end this sad story before authorities remarked it.";
	mes "Already that nobody really likes us, I wouldn't find me at the end of a rope for this story.";
	close;


}

//========================================================================================================

function	script	arsi_Zomb05sp	{


if (EP7_ZOMBIE <= 3)  goto sub1;
if (EP7_ZOMBIE == 4)  goto sub2;
if (EP7_ZOMBIE == 5)  goto sub3;
if (EP7_ZOMBIE >= 6)  goto sub4;

sub1:
	mes "[" + @name$ + "]"; 
	mes "Aquí estoy expulsado de mi casa... Sólo tengo mi esperanza en el refugio.";
	close;
	

sub2:
	mes "[" + @name$ + "]"; 
	mes "Ah, ¿vienes desde el Templo de Mortys?";
	mes "He sido desalojado de mi propia casa por los zombies!";
	next;
	mes "[" + @name$ + "]"; 
	mes "Me gustaría ir a buscar mi libro de hechizos en mi cripta.";
	mes "Entonces será revertir los efectos del fluido de embalsamamiento, que no es sólo la conservación sino que el cuerpo produce demasiado animada!";
	close2;
	changequest 70313,70314;
	set EP7_ZOMBIE,5;
	end;

sub3:
	mes "[" + @name$ + "]"; 
	mes "Ah, ¿vienes desde el Templo de Mortys?";
	mes "He sido desalojado de mi propia casa por los zombies!";
	next;
	mes "[" + @name$ + "]"; 
	mes "Me gustaría ir a buscar mi libro de hechizos en mi cripta.";
	mes "Entonces será revertir los efectos del fluido de embalsamamiento, que no es sólo la conservación sino que el cuerpo produce demasiado animada!";
	close;

sub4:
	mes "[" + @name$ + "]"; 
	mes "¡Qué gran éxito! Gracias por los libros, por fin puedo poner fin a esta triste historia ante las autoridades que señaló.";
	mes "Ya que nadie realmente nos gusta, no me encontraría en el extremo de una cuerda para esta historia.";
	close;


}
